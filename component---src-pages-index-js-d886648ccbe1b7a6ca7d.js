"use strict";(self.webpackChunkemperor_age=self.webpackChunkemperor_age||[]).push([[293],{655:function(t,n,e){var r=e(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},2140:function(t,n,e){var r={};r[e(8227)("toStringTag")]="z",t.exports="[object z]"===String(r)},3607:function(t,n,e){var r=e(2839).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},3709:function(t,n,e){var r=e(2839).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},3763:function(t,n,e){var r=e(2839);t.exports=/MSIE|Trident/.test(r)},4488:function(t,n,e){var r=e(7680),i=Math.floor,a=function(t,n){var e=t.length;if(e<8)for(var o,u,s=1;s<e;){for(u=s,o=t[s];u&&n(t[u-1],o)>0;)t[u]=t[--u];u!==s++&&(t[u]=o)}else for(var l=i(e/2),c=a(r(t,0,l),n),h=a(r(t,l),n),f=c.length,p=h.length,d=0,m=0;d<f||m<p;)t[d+m]=d<f&&m<p?n(c[d],h[m])<=0?c[d++]:h[m++]:d<f?c[d++]:h[m++];return t};t.exports=a},4598:function(t,n,e){var r=e(9039);t.exports=function(t,n){var e=[][t];return!!e&&r(function(){e.call(null,n||function(){return 1},1)})}},4606:function(t,n,e){var r=e(6823),i=TypeError;t.exports=function(t,n){if(!delete t[n])throw new i("Cannot delete property "+r(n)+" of "+r(t))}},6910:function(t,n,e){var r=e(6518),i=e(9504),a=e(9306),o=e(8981),u=e(6198),s=e(4606),l=e(655),c=e(9039),h=e(4488),f=e(4598),p=e(3709),d=e(3763),m=e(9519),g=e(3607),y=[],v=i(y.sort),x=i(y.push),b=c(function(){y.sort(void 0)}),_=c(function(){y.sort(null)}),w=f("sort"),E=!c(function(){if(m)return m<70;if(!(p&&p>3)){if(d)return!0;if(g)return g<603;var t,n,e,r,i="";for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(r=0;r<47;r++)y.push({k:n+r,v:e})}for(y.sort(function(t,n){return n.v-t.v}),r=0;r<y.length;r++)n=y[r].k.charAt(0),i.charAt(i.length-1)!==n&&(i+=n);return"DGBEFHACIJK"!==i}});r({target:"Array",proto:!0,forced:b||!_||!w||!E},{sort:function(t){void 0!==t&&a(t);var n=o(this);if(E)return void 0===t?v(n):v(n,t);var e,r,i=[],c=u(n);for(r=0;r<c;r++)r in n&&x(i,n[r]);for(h(i,function(t){return function(n,e){return void 0===e?-1:void 0===n?1:void 0!==t?+t(n,e)||0:l(n)>l(e)?1:-1}}(t)),e=u(i),r=0;r<e;)n[r]=i[r++];for(;r<c;)s(n,r++);return n}})},6955:function(t,n,e){var r=e(2140),i=e(4901),a=e(2195),o=e(8227)("toStringTag"),u=Object,s="Arguments"===a(function(){return arguments}());t.exports=r?a:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(e){}}(n=u(t),o))?e:s?a(n):"Object"===(r=a(n))&&i(n.callee)?"Arguments":r}},7680:function(t,n,e){var r=e(9504);t.exports=r([].slice)},8633:function(t,n,e){e.r(n),e.d(n,{default:function(){return Kl}});var r=e(6540),i=e(5540),a=e(4506);e(6910);function o(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function u(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}function s(t){return t}var l=1e-6;function c(t){return"translate("+t+",0)"}function h(t){return"translate(0,"+t+")"}function f(t){return n=>+t(n)}function p(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function d(){return!this.__axis}function m(t,n){var e=[],r=null,i=null,a=6,o=6,u=3,m="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,g=1===t||4===t?-1:1,y=4===t||2===t?"x":"y",v=1===t||3===t?c:h;function x(c){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,x=null==i?n.tickFormat?n.tickFormat.apply(n,e):s:i,b=Math.max(a,0)+u,_=n.range(),w=+_[0]+m,E=+_[_.length-1]+m,M=(n.bandwidth?p:f)(n.copy(),m),A=c.selection?c.selection():c,C=A.selectAll(".domain").data([null]),k=A.selectAll(".tick").data(h,n).order(),P=k.exit(),S=k.enter().append("g").attr("class","tick"),N=k.select("line"),T=k.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(S),N=N.merge(S.append("line").attr("stroke","currentColor").attr(y+"2",g*a)),T=T.merge(S.append("text").attr("fill","currentColor").attr(y,g*b).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),c!==A&&(C=C.transition(c),k=k.transition(c),N=N.transition(c),T=T.transition(c),P=P.transition(c).attr("opacity",l).attr("transform",function(t){return isFinite(t=M(t))?v(t+m):this.getAttribute("transform")}),S.attr("opacity",l).attr("transform",function(t){var n=this.parentNode.__axis;return v((n&&isFinite(n=n(t))?n:M(t))+m)})),P.remove(),C.attr("d",4===t||2===t?o?"M"+g*o+","+w+"H"+m+"V"+E+"H"+g*o:"M"+m+","+w+"V"+E:o?"M"+w+","+g*o+"V"+m+"H"+E+"V"+g*o:"M"+w+","+m+"H"+E),k.attr("opacity",1).attr("transform",function(t){return v(M(t)+m)}),N.attr(y+"2",g*a),T.attr(y,g*b).text(x),A.filter(d).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),A.each(function(){this.__axis=M})}return x.scale=function(t){return arguments.length?(n=t,x):n},x.ticks=function(){return e=Array.from(arguments),x},x.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),x):e.slice()},x.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),x):r&&r.slice()},x.tickFormat=function(t){return arguments.length?(i=t,x):i},x.tickSize=function(t){return arguments.length?(a=o=+t,x):a},x.tickSizeInner=function(t){return arguments.length?(a=+t,x):a},x.tickSizeOuter=function(t){return arguments.length?(o=+t,x):o},x.tickPadding=function(t){return arguments.length?(u=+t,x):u},x.offset=function(t){return arguments.length?(m=+t,x):m},x}function g(t){return m(3,t)}function y(t){return m(4,t)}function v(){}function x(t){return null==t?v:function(){return this.querySelector(t)}}function b(){return[]}function _(t){return null==t?b:function(){return this.querySelectorAll(t)}}function w(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function E(t){return function(){return this.matches(t)}}function M(t){return function(n){return n.matches(t)}}var A=Array.prototype.find;function C(){return this.firstElementChild}var k=Array.prototype.filter;function P(){return Array.from(this.children)}function S(t){return new Array(t.length)}function N(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function T(t,n,e,r,i,a){for(var o,u=0,s=n.length,l=a.length;u<l;++u)(o=n[u])?(o.__data__=a[u],r[u]=o):e[u]=new N(t,a[u]);for(;u<s;++u)(o=n[u])&&(i[u]=o)}function D(t,n,e,r,i,a,o){var u,s,l,c=new Map,h=n.length,f=a.length,p=new Array(h);for(u=0;u<h;++u)(s=n[u])&&(p[u]=l=o.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<f;++u)l=o.call(t,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):e[u]=new N(t,a[u]);for(u=0;u<h;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function j(t){return t.__data__}function I(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function U(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}N.prototype={constructor:N,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var z="http://www.w3.org/1999/xhtml",F={svg:"http://www.w3.org/2000/svg",xhtml:z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function B(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),F.hasOwnProperty(n)?{space:F[n],local:t}:t}function G(t){return function(){this.removeAttribute(t)}}function O(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R(t,n){return function(){this.setAttribute(t,n)}}function Y(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function V(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function H(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function $(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function L(t){return function(){this.style.removeProperty(t)}}function q(t,n,e){return function(){this.style.setProperty(t,n,e)}}function X(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function J(t,n){return t.style.getPropertyValue(n)||$(t).getComputedStyle(t,null).getPropertyValue(n)}function W(t){return function(){delete this[t]}}function Z(t,n){return function(){this[t]=n}}function Q(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function K(t){return t.trim().split(/^|\s+/)}function tt(t){return t.classList||new nt(t)}function nt(t){this._node=t,this._names=K(t.getAttribute("class")||"")}function et(t,n){for(var e=tt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function rt(t,n){for(var e=tt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function it(t){return function(){et(this,t)}}function at(t){return function(){rt(this,t)}}function ot(t,n){return function(){(n.apply(this,arguments)?et:rt)(this,t)}}function ut(){this.textContent=""}function st(t){return function(){this.textContent=t}}function lt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ct(){this.innerHTML=""}function ht(t){return function(){this.innerHTML=t}}function ft(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function dt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===z&&n.documentElement.namespaceURI===z?n.createElement(t):n.createElementNS(e,t)}}function gt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yt(t){var n=B(t);return(n.local?gt:mt)(n)}function vt(){return null}function xt(){var t=this.parentNode;t&&t.removeChild(this)}function bt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function _t(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function wt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Et(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function Mt(t,n,e){var r=$(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function At(t,n){return function(){return Mt(this,t,n)}}function Ct(t,n){return function(){return Mt(this,t,n.apply(this,arguments))}}nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var kt=[null];function Pt(t,n){this._groups=t,this._parents=n}function St(){return new Pt([[document.documentElement]],kt)}Pt.prototype=St.prototype={constructor:Pt,select:function(t){"function"!=typeof t&&(t=x(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,u=n[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(o=t.call(a,a.__data__,c,u))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new Pt(r,this._parents)},selectAll:function(t){t="function"==typeof t?w(t):_(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,u=n[a],s=u.length,l=0;l<s;++l)(o=u[l])&&(r.push(t.call(o,o.__data__,l,u)),i.push(o));return new Pt(r,i)},selectChild:function(t){return this.select(null==t?C:function(t){return function(){return A.call(this.children,t)}}("function"==typeof t?t:M(t)))},selectChildren:function(t){return this.selectAll(null==t?P:function(t){return function(){return k.call(this.children,t)}}("function"==typeof t?t:M(t)))},filter:function(t){"function"!=typeof t&&(t=E(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new Pt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,j);var e=n?D:T,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,p=I(t.call(c,c&&c.__data__,l,r)),d=p.length,m=u[l]=new Array(d),g=o[l]=new Array(d);e(c,h,m,g,s[l]=new Array(f),p,n);for(var y,v,x=0,b=0;x<d;++x)if(y=m[x]){for(x>=b&&(b=x+1);!(v=g[b])&&++b<d;);y._next=v||null}}return(o=new Pt(o,r))._enter=u,o._exit=s,o},enter:function(){return new Pt(this._enter||this._groups.map(S),this._parents)},exit:function(){return new Pt(this._exit||this._groups.map(S),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=e[s],h=r[s],f=c.length,p=u[s]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;s<i;++s)u[s]=e[s];return new Pt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=U);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,u=e[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(n)}return new Pt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,u=a.length;o<u;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=B(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?O:G:"function"==typeof n?e.local?H:V:e.local?Y:R)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?L:"function"==typeof n?X:q)(t,n,null==e?"":e)):J(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?W:"function"==typeof n?Q:Z)(t,n)):this.node()[t]},classed:function(t,n){var e=K(t+"");if(arguments.length<2){for(var r=tt(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?ot:n?it:at)(e,n))},text:function(t){return arguments.length?this.each(null==t?ut:("function"==typeof t?lt:st)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ct:("function"==typeof t?ft:ht)(t)):this.node().innerHTML},raise:function(){return this.each(pt)},lower:function(){return this.each(dt)},append:function(t){var n="function"==typeof t?t:yt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:yt(t),r=null==n?vt:"function"==typeof n?n:x(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(xt)},clone:function(t){return this.select(t?_t:bt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),o=a.length;if(!(arguments.length<2)){for(u=n?Et:wt,r=0;r<o;++r)this.each(u(a[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Ct:At)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var Nt=St,Tt={value:()=>{}};function Dt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new jt(r)}function jt(t){this._=t}function It(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Ut(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Tt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}jt.prototype=Dt.prototype={constructor:jt,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),o=-1,u=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=a[o]).type)i[e]=Ut(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Ut(i[e],t.name,null);return this}for(;++o<u;)if((e=(t=a[o]).type)&&(e=It(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new jt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var zt,Ft,Bt=Dt,Gt=0,Ot=0,Rt=0,Yt=0,Vt=0,Ht=0,$t="object"==typeof performance&&performance.now?performance:Date,Lt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qt(){return Vt||(Lt(Xt),Vt=$t.now()+Ht)}function Xt(){Vt=0}function Jt(){this._call=this._time=this._next=null}function Wt(t,n,e){var r=new Jt;return r.restart(t,n,e),r}function Zt(){Vt=(Yt=$t.now())+Ht,Gt=Ot=0;try{!function(){qt(),++Gt;for(var t,n=zt;n;)(t=Vt-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Gt}()}finally{Gt=0,function(){var t,n,e=zt,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:zt=n);Ft=t,Kt(r)}(),Vt=0}}function Qt(){var t=$t.now(),n=t-Yt;n>1e3&&(Ht-=n,Yt=t)}function Kt(t){Gt||(Ot&&(Ot=clearTimeout(Ot)),t-Vt>24?(t<1/0&&(Ot=setTimeout(Zt,t-$t.now()-Ht)),Rt&&(Rt=clearInterval(Rt))):(Rt||(Yt=$t.now(),Rt=setInterval(Qt,1e3)),Gt=1,Lt(Zt)))}function tn(t,n,e){var r=new Jt;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r}Jt.prototype=Wt.prototype={constructor:Jt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?qt():+e)+(null==n?0:+n),this._next||Ft===this||(Ft?Ft._next=this:zt=this,Ft=this),this._call=t,this._time=e,Kt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kt())}};var nn=Bt("start","end","cancel","interrupt"),en=[];function rn(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(a){var l,c,h,f;if(1!==e.state)return s();for(l in i)if((f=i[l]).name===e.name){if(3===f.state)return tn(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(tn(function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(a))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(h=e.tween.length),l=0,c=-1;l<h;++l)(f=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=f);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Wt(a,0,e.time)}(t,e,{name:n,index:r,group:i,on:nn,tween:en,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function an(t,n){var e=un(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function on(t,n){var e=un(t,n);if(e.state>3)throw new Error("too late; already running");return e}function un(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function sn(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}function ln(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var cn,hn=180/Math.PI,fn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pn(t,n,e,r,i,a){var o,u,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*hn,skewX:Math.atan(s)*hn,scaleX:o,scaleY:u}}function dn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var u=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,u){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);u.push({i:s-4,x:ln(t,i)},{i:s-2,x:ln(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ln(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,u,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ln(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,u,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:ln(t,e)},{i:u-2,x:ln(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var mn=dn(function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?fn:pn(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),gn=dn(function(t){return null==t?fn:(cn||(cn=document.createElementNS("http://www.w3.org/2000/svg","g")),cn.setAttribute("transform",t),(t=cn.transform.baseVal.consolidate())?pn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):fn)},", ",")",")");function yn(t,n){var e,r;return function(){var i=on(this,t),a=i.tween;if(a!==e)for(var o=0,u=(r=e=a).length;o<u;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function vn(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=on(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function xn(t,n,e){var r=t._id;return t.each(function(){var t=on(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return un(t,r).value[n]}}function bn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function _n(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function wn(){}var En=.7,Mn=1/En,An="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pn=/^#([0-9a-f]{3,8})$/,Sn=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),Nn=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),Tn=new RegExp(`^rgba\\(${An},${An},${An},${Cn}\\)$`),Dn=new RegExp(`^rgba\\(${kn},${kn},${kn},${Cn}\\)$`),jn=new RegExp(`^hsl\\(${Cn},${kn},${kn}\\)$`),In=new RegExp(`^hsla\\(${Cn},${kn},${kn},${Cn}\\)$`),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zn(){return this.rgb().formatHex()}function Fn(){return this.rgb().formatRgb()}function Bn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Pn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Gn(n):3===e?new Yn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?On(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?On(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Sn.exec(t))?new Yn(n[1],n[2],n[3],1):(n=Nn.exec(t))?new Yn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Tn.exec(t))?On(n[1],n[2],n[3],n[4]):(n=Dn.exec(t))?On(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=jn.exec(t))?Xn(n[1],n[2]/100,n[3]/100,1):(n=In.exec(t))?Xn(n[1],n[2]/100,n[3]/100,n[4]):Un.hasOwnProperty(t)?Gn(Un[t]):"transparent"===t?new Yn(NaN,NaN,NaN,0):null}function Gn(t){return new Yn(t>>16&255,t>>8&255,255&t,1)}function On(t,n,e,r){return r<=0&&(t=n=e=NaN),new Yn(t,n,e,r)}function Rn(t,n,e,r){return 1===arguments.length?((i=t)instanceof wn||(i=Bn(i)),i?new Yn((i=i.rgb()).r,i.g,i.b,i.opacity):new Yn):new Yn(t,n,e,null==r?1:r);var i}function Yn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Vn(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}`}function Hn(){const t=$n(this.opacity);return`${1===t?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${1===t?")":`, ${t})`}`}function $n(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ln(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qn(t){return((t=Ln(t))<16?"0":"")+t.toString(16)}function Xn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Wn(t,n,e,r)}function Jn(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);if(t instanceof wn||(t=Bn(t)),!t)return new Wn;if(t instanceof Wn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=n===a?(e-r)/u+6*(e<r):e===a?(r-n)/u+2:(n-e)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new Wn(o,u,s,t.opacity)}function Wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Zn(t){return(t=(t||0)%360)<0?t+360:t}function Qn(t){return Math.max(0,Math.min(1,t||0))}function Kn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function te(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}bn(wn,Bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Jn(this).formatHsl()},formatRgb:Fn,toString:Fn}),bn(Yn,Rn,_n(wn,{brighter(t){return t=null==t?Mn:Math.pow(Mn,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?En:Math.pow(En,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yn(Ln(this.r),Ln(this.g),Ln(this.b),$n(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vn,formatHex:Vn,formatHex8:function(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}${qn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Hn,toString:Hn})),bn(Wn,function(t,n,e,r){return 1===arguments.length?Jn(t):new Wn(t,n,e,null==r?1:r)},_n(wn,{brighter(t){return t=null==t?Mn:Math.pow(Mn,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?En:Math.pow(En,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Yn(Kn(t>=240?t-240:t+120,i,r),Kn(t,i,r),Kn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wn(Zn(this.h),Qn(this.s),Qn(this.l),$n(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$n(this.opacity);return`${1===t?"hsl(":"hsla("}${Zn(this.h)}, ${100*Qn(this.s)}%, ${100*Qn(this.l)}%${1===t?")":`, ${t})`}`}}));var ne=t=>()=>t;function ee(t,n){return function(e){return t+e*n}}function re(t){return 1===(t=+t)?ie:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ne(isNaN(n)?e:n)}}function ie(t,n){var e=n-t;return e?ee(t,e):ne(isNaN(t)?n:t)}var ae=function t(n){var e=re(n);function r(t,n){var r=e((t=Rn(t)).r,(n=Rn(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=ie(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function oe(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Rn(n[e]),a[e]=r.r||0,o[e]=r.g||0,u[e]=r.b||0;return a=t(a),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=u(t),r+""}}}var ue=oe(function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<n-1?t[r+2]:2*a-i;return te((e-r/n)*n,o,i,a,u)}}),se=(oe(function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],u=t[(r+2)%n];return te((e-r/n)*n,i,a,o,u)}}),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),le=new RegExp(se.source,"g");function ce(t,n){var e,r,i,a=se.lastIndex=le.lastIndex=0,o=-1,u=[],s=[];for(t+="",n+="";(e=se.exec(t))&&(r=le.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:ln(e,r)})),a=le.lastIndex;return a<n.length&&(i=n.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function he(t,n){var e;return("number"==typeof n?ln:n instanceof Bn?ae:(e=Bn(n))?(n=e,ae):ce)(t,n)}function fe(t){return function(){this.removeAttribute(t)}}function pe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function de(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function me(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function ge(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttribute(t)}}function ye(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}function ve(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function xe(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function be(t,n){return function(){an(this,t).delay=+n.apply(this,arguments)}}function _e(t,n){return n=+n,function(){an(this,t).delay=n}}function we(t,n){return function(){on(this,t).duration=+n.apply(this,arguments)}}function Ee(t,n){return n=+n,function(){on(this,t).duration=n}}var Me=Nt.prototype.constructor;function Ae(t){return function(){this.style.removeProperty(t)}}var Ce=0;function ke(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Pe(){return++Ce}var Se=Nt.prototype;ke.prototype=function(t){return Nt().transition(t)}.prototype={constructor:ke,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=x(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(u=l[f])&&(s=t.call(u,u.__data__,f,l))&&("__data__"in u&&(s.__data__=u.__data__),h[f]=s,rn(h[f],n,e,f,h,un(u,e)));return new ke(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=_(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,h=0;h<c;++h)if(s=l[h]){for(var f,p=t.call(s,s.__data__,h,l),d=un(s,e),m=0,g=p.length;m<g;++m)(f=p[m])&&rn(f,n,e,m,p,d);a.push(p),o.push(s)}return new ke(a,o,n,e)},selectChild:Se.selectChild,selectChildren:Se.selectChildren,filter:function(t){"function"!=typeof t&&(t=E(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new ke(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=n[u],c=e[u],h=l.length,f=o[u]=new Array(h),p=0;p<h;++p)(s=l[p]||c[p])&&(f[p]=s);for(;u<r;++u)o[u]=n[u];return new ke(o,this._parents,this._name,this._id)},selection:function(){return new Me(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Pe(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=un(o,n);rn(o,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ke(r,this._parents,t,e)},call:Se.call,nodes:Se.nodes,node:Se.node,size:Se.size,empty:Se.empty,each:Se.each,on:function(t,n){var e=this._id;return arguments.length<2?un(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?an:on;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(n,e),o.on=i}}(e,t,n))},attr:function(t,n){var e=B(t),r="transform"===e?gn:he;return this.attrTween(t,"function"==typeof n?(e.local?ye:ge)(e,r,xn(this,"attr."+t,n)):null==n?(e.local?pe:fe)(e):(e.local?me:de)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=B(t);return this.tween(e,(r.local?ve:xe)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?mn:he;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=J(this,t),o=(this.style.removeProperty(t),J(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,Ae(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=J(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=J(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,u))}}(t,r,xn(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,u="end."+o;return function(){var s=on(this,t),l=s.on,c=null==s.value[o]?a||(a=Ae(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=J(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,a,e)),r}return a._value=n,a}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(xn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=un(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?yn:vn)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?be:_e)(n,t)):un(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?we:Ee)(n,t)):un(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){on(this,t).ease=n}}(n,t)):un(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;on(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var u={value:o},s={value:function(){0===--i&&a()}};e.each(function(){var e=on(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n}),0===i&&a()})},[Symbol.iterator]:Se[Symbol.iterator]};var Ne={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Te(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Nt.prototype.interrupt=function(t){return this.each(function(){sn(this,t)})},Nt.prototype.transition=function(t){var n,e;t instanceof ke?(n=t._id,t=t._name):(n=Pe(),(e=Ne).time=qt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&rn(o,t,n,l,u,e||Te(o,n));return new ke(r,this._parents,t,n)};const{abs:De,max:je,min:Ie}=Math;function Ue(t){return[+t[0],+t[1]]}function ze(t){return[Ue(t[0]),Ue(t[1])]}["w","e"].map(Fe),["n","s"].map(Fe),["n","w","e","s","nw","ne","sw","se"].map(Fe);function Fe(t){return{type:t}}function Be(t){return"string"==typeof t?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],kt)}function Ge(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const Oe={passive:!1},Re={capture:!0,passive:!1};function Ye(t){t.stopImmediatePropagation()}function Ve(t){t.preventDefault(),t.stopImmediatePropagation()}function He(t){var n=t.document.documentElement,e=Be(t).on("dragstart.drag",Ve,Re);"onselectstart"in n?e.on("selectstart.drag",Ve,Re):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function $e(t,n){var e=t.document.documentElement,r=Be(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ve,Re),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Le=t=>()=>t;function qe(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:a,x:o,y:u,dx:s,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}function Xe(t){return!t.ctrlKey&&!t.button}function Je(){return this.parentNode}function We(t,n){return null==n?{x:t.x,y:t.y}:n}function Ze(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qe(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Ke(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,a,o,u,s,l,c,h,f,p=t._root,d={data:r},m=t._x0,g=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=n>=(a=(m+y)/2))?m=a:y=a,(c=e>=(o=(g+v)/2))?g=o:v=o,i=p,!(p=p[h=c<<1|l]))return i[h]=d,t;if(u=+t._x.call(null,p.data),s=+t._y.call(null,p.data),n===u&&e===s)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=n>=(a=(m+y)/2))?m=a:y=a,(c=e>=(o=(g+v)/2))?g=o:v=o}while((h=c<<1|l)==(f=(s>=o)<<1|u>=a));return i[f]=p,i[h]=d,t}function tr(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function nr(t){return t[0]}function er(t){return t[1]}function rr(t,n,e){var r=new ir(null==n?nr:n,null==e?er:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ir(t,n,e,r,i,a){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function ar(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}qe.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var or=rr.prototype=ir.prototype;function ur(t){return function(){return t}}function sr(t){return 1e-6*(t()-.5)}function lr(t){return t.x+t.vx}function cr(t){return t.y+t.vy}function hr(t){var n,e,r,i=1,a=1;function o(){for(var t,o,s,l,c,h,f,p=n.length,d=0;d<a;++d)for(o=rr(n,lr,cr).visitAfter(u),t=0;t<p;++t)s=n[t],h=e[s.index],f=h*h,l=s.x+s.vx,c=s.y+s.vy,o.visit(m);function m(t,n,e,a,o){var u=t.data,p=t.r,d=h+p;if(!u)return n>l+d||a<l-d||e>c+d||o<c-d;if(u.index>s.index){var m=l-u.x-u.vx,g=c-u.y-u.vy,y=m*m+g*g;y<d*d&&(0===m&&(y+=(m=sr(r))*m),0===g&&(y+=(g=sr(r))*g),y=(d-(y=Math.sqrt(y)))/y*i,s.vx+=(m*=y)*(d=(p*=p)/(f+p)),s.vy+=(g*=y)*d,u.vx-=m*(d=1-d),u.vy-=g*d)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function s(){if(n){var r,i,a=n.length;for(e=new Array(a),r=0;r<a;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=ur(null==t?1:+t)),o.initialize=function(t,e){n=t,r=e,s()},o.iterations=function(t){return arguments.length?(a=+t,o):a},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:ur(+n),s(),o):t},o}function fr(t){return t.index}function pr(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}or.copy=function(){var t,n,e=new ir(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ar(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ar(n));return e},or.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Ke(this.cover(n,e),n,e,t)},or.addAll=function(t){var n,e,r,i,a=t.length,o=new Array(a),u=new Array(a),s=1/0,l=1/0,c=-1/0,h=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(o[e]=r,u[e]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(s>c||l>h)return this;for(this.cover(s,l).cover(c,h),e=0;e<a;++e)Ke(this,o[e],u[e],t[e]);return this},or.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,a=(r=Math.floor(n))+1;else{for(var o,u,s=i-e||1,l=this._root;e>t||t>=i||r>n||n>=a;)switch(u=(n<r)<<1|t<e,(o=new Array(4))[u]=l,l=o,s*=2,u){case 0:i=e+s,a=r+s;break;case 1:e=i-s,a=r+s;break;case 2:i=e+s,r=a-s;break;case 3:e=i-s,r=a-s}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this},or.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},or.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},or.find=function(t,n,e){var r,i,a,o,u,s,l,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new tr(m,c,h,f,p)),null==e?e=1/0:(c=t-e,h=n-e,f=t+e,p=n+e,e*=e);s=d.pop();)if(!(!(m=s.node)||(i=s.x0)>f||(a=s.y0)>p||(o=s.x1)<c||(u=s.y1)<h))if(m.length){var g=(i+o)/2,y=(a+u)/2;d.push(new tr(m[3],g,y,o,u),new tr(m[2],i,y,g,u),new tr(m[1],g,a,o,y),new tr(m[0],i,a,g,y)),(l=(n>=y)<<1|t>=g)&&(s=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=s)}else{var v=t-+this._x.call(null,m.data),x=n-+this._y.call(null,m.data),b=v*v+x*x;if(b<e){var _=Math.sqrt(e=b);c=t-_,h=n-_,f=t+_,p=n+_,r=m.data}}return r},or.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,r,i,a,o,u,s,l,c,h,f,p=this._root,d=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((l=a>=(u=(d+g)/2))?d=u:g=u,(c=o>=(s=(m+y)/2))?m=s:y=s,n=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[f]=p:this._root=p),this):(this._root=i,this)},or.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},or.root=function(){return this._root},or.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},or.visit=function(t){var n,e,r,i,a,o,u=[],s=this._root;for(s&&u.push(new tr(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,a=n.x1,o=n.y1)&&s.length){var l=(r+a)/2,c=(i+o)/2;(e=s[3])&&u.push(new tr(e,l,c,a,o)),(e=s[2])&&u.push(new tr(e,r,c,l,o)),(e=s[1])&&u.push(new tr(e,l,i,a,c)),(e=s[0])&&u.push(new tr(e,r,i,l,c))}return this},or.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new tr(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var a,o=n.x0,u=n.y0,s=n.x1,l=n.y1,c=(o+s)/2,h=(u+l)/2;(a=i[0])&&e.push(new tr(a,o,u,c,h)),(a=i[1])&&e.push(new tr(a,c,u,s,h)),(a=i[2])&&e.push(new tr(a,o,h,c,l)),(a=i[3])&&e.push(new tr(a,c,h,s,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},or.x=function(t){return arguments.length?(this._x=t,this):this._x},or.y=function(t){return arguments.length?(this._y=t,this):this._y};const dr=4294967296;function mr(t){return t.x}function gr(t){return t.y}var yr=Math.PI*(3-Math.sqrt(5));function vr(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,u=new Map,s=Wt(h),l=Bt("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%dr)/dr}();function h(){f(),l.call("tick",n),e<r&&(s.stop(),l.call("end",n))}function f(r){var s,l,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(e+=(a-e)*i,u.forEach(function(t){t(e)}),s=0;s<c;++s)null==(l=t[s]).fx?l.x+=l.vx*=o:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=o:(l.y=l.fy,l.vy=0);return n}function p(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),a=e*yr;n.x=i*Math.cos(a),n.y=i*Math.sin(a)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t,c),n}return null==t&&(t=[]),p(),n={tick:f,restart:function(){return s.restart(h),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,p(),u.forEach(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},randomSource:function(t){return arguments.length?(c=t,u.forEach(d),n):c},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,a,o,u,s,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(o=(i=n-(u=t[l]).x)*i+(a=e-u.y)*a)<r&&(s=u,r=o);return s},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}}function xr(t){var n,e,r,i=ur(.1);function a(t){for(var i,a=0,o=n.length;a<o;++a)(i=n[a]).vx+=(r[a]-i.x)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=ur(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:ur(+t),o(),a):i},a.x=function(n){return arguments.length?(t="function"==typeof n?n:ur(+n),o(),a):t},a}function br(t){var n,e,r,i=ur(.1);function a(t){for(var i,a=0,o=n.length;a<o;++a)(i=n[a]).vy+=(r[a]-i.y)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=ur(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:ur(+t),o(),a):i},a.y=function(n){return arguments.length?(t="function"==typeof n?n:ur(+n),o(),a):t},a}var _r=1e-6,wr=Math.PI,Er=wr/2,Mr=wr/4,Ar=2*wr,Cr=180/wr,kr=wr/180,Pr=Math.abs,Sr=Math.atan,Nr=Math.atan2,Tr=Math.cos,Dr=Math.ceil,jr=Math.exp,Ir=(Math.floor,Math.hypot,Math.log),Ur=(Math.pow,Math.sin),zr=Math.sign||function(t){return t>0?1:t<0?-1:0},Fr=Math.sqrt,Br=Math.tan;function Gr(t){return t>1?Er:t<-1?-Er:Math.asin(t)}function Or(t,n,e){var r=u(t,n-_r,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Rr(t,n,e){var r=u(t,n-_r,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function Yr(){var t,n,e,r,i,a,o,s,l,c,h,f,p=10,d=p,m=90,g=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:x()}}function x(){return u(Dr(r/m)*m,e,m).map(h).concat(u(Dr(s/g)*g,o,g).map(f)).concat(u(Dr(n/p)*p,t,p).filter(function(t){return Pr(t%m)>_r}).map(l)).concat(u(Dr(a/d)*d,i,d).filter(function(t){return Pr(t%g)>_r}).map(c))}return v.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(o).slice(1),h(e).reverse().slice(1),f(s).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],s=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),s>o&&(t=s,s=o,o=t),v.precision(y)):[[r,s],[e,o]]},v.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),a>i&&(e=a,a=i,i=e),v.precision(y)):[[n,a],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(m=+t[0],g=+t[1],v):[m,g]},v.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],v):[p,d]},v.precision=function(u){return arguments.length?(y=+u,l=Or(a,i,90),c=Rr(n,t,y),h=Or(s,o,90),f=Rr(r,e,y),v):y},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}var Vr=t=>t;function Hr(t,n){t&&Lr.hasOwnProperty(t.type)&&Lr[t.type](t,n)}var $r={Feature:function(t,n){Hr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Hr(e[r].geometry,n)}},Lr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){qr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)qr(e[r],n,0)},Polygon:function(t,n){Xr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Xr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Hr(e[r],n)}};function qr(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Xr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)qr(t[e],n,1);n.polygonEnd()}function Jr(t,n){t&&$r.hasOwnProperty(t.type)?$r[t.type](t,n):Hr(t,n)}class Wr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(n[e++]=o),t=a}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(n=a,e=t[--i],a=n+e,r=e-(a-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=a+e,e==n-a&&(a=n))}return a}}function Zr(){}var Qr,Kr,ti,ni,ei=new Wr,ri=new Wr,ii={point:Zr,lineStart:Zr,lineEnd:Zr,polygonStart:function(){ii.lineStart=ai,ii.lineEnd=si},polygonEnd:function(){ii.lineStart=ii.lineEnd=ii.point=Zr,ei.add(Pr(ri)),ri=new Wr},result:function(){var t=ei/2;return ei=new Wr,t}};function ai(){ii.point=oi}function oi(t,n){ii.point=ui,Qr=ti=t,Kr=ni=n}function ui(t,n){ri.add(ni*t-ti*n),ti=t,ni=n}function si(){ui(Qr,Kr)}var li=ii,ci=1/0,hi=ci,fi=-ci,pi=fi,di={point:function(t,n){t<ci&&(ci=t);t>fi&&(fi=t);n<hi&&(hi=n);n>pi&&(pi=n)},lineStart:Zr,lineEnd:Zr,polygonStart:Zr,polygonEnd:Zr,result:function(){var t=[[ci,hi],[fi,pi]];return fi=pi=-(hi=ci=1/0),t}};var mi,gi,yi,vi,xi=di,bi=0,_i=0,wi=0,Ei=0,Mi=0,Ai=0,Ci=0,ki=0,Pi=0,Si={point:Ni,lineStart:Ti,lineEnd:Ii,polygonStart:function(){Si.lineStart=Ui,Si.lineEnd=zi},polygonEnd:function(){Si.point=Ni,Si.lineStart=Ti,Si.lineEnd=Ii},result:function(){var t=Pi?[Ci/Pi,ki/Pi]:Ai?[Ei/Ai,Mi/Ai]:wi?[bi/wi,_i/wi]:[NaN,NaN];return bi=_i=wi=Ei=Mi=Ai=Ci=ki=Pi=0,t}};function Ni(t,n){bi+=t,_i+=n,++wi}function Ti(){Si.point=Di}function Di(t,n){Si.point=ji,Ni(yi=t,vi=n)}function ji(t,n){var e=t-yi,r=n-vi,i=Fr(e*e+r*r);Ei+=i*(yi+t)/2,Mi+=i*(vi+n)/2,Ai+=i,Ni(yi=t,vi=n)}function Ii(){Si.point=Ni}function Ui(){Si.point=Fi}function zi(){Bi(mi,gi)}function Fi(t,n){Si.point=Bi,Ni(mi=yi=t,gi=vi=n)}function Bi(t,n){var e=t-yi,r=n-vi,i=Fr(e*e+r*r);Ei+=i*(yi+t)/2,Mi+=i*(vi+n)/2,Ai+=i,Ci+=(i=vi*t-yi*n)*(yi+t),ki+=i*(vi+n),Pi+=3*i,Ni(yi=t,vi=n)}var Gi=Si;function Oi(t){this._context=t}Oi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ar)}},result:Zr};var Ri,Yi,Vi,Hi,$i,Li=new Wr,qi={point:Zr,lineStart:function(){qi.point=Xi},lineEnd:function(){Ri&&Ji(Yi,Vi),qi.point=Zr},polygonStart:function(){Ri=!0},polygonEnd:function(){Ri=null},result:function(){var t=+Li;return Li=new Wr,t}};function Xi(t,n){qi.point=Ji,Yi=Hi=t,Vi=$i=n}function Ji(t,n){Hi-=t,$i-=n,Li.add(Fr(Hi*Hi+$i*$i)),Hi=t,$i=n}var Wi=qi;let Zi,Qi,Ki,ta;class na{constructor(t){this._append=null==t?ea:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return ea;if(n!==Zi){const t=10**n;Zi=n,Qi=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Qi}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Ki||this._append!==Qi){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Ki=t,Qi=this._append,ta=this._,this._=n}this._+=ta}}result(){const t=this._;return this._="",t.length?t:null}}function ea(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ra(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ia(t,n){return Pr(t)>wr&&(t-=Math.round(t/Ar)*Ar),[t,n]}function aa(t,n,e){return(t%=Ar)?n||e?ra(ua(t),sa(n,e)):ua(t):n||e?sa(n,e):ia}function oa(t){return function(n,e){return Pr(n+=t)>wr&&(n-=Math.round(n/Ar)*Ar),[n,e]}}function ua(t){var n=oa(t);return n.invert=oa(-t),n}function sa(t,n){var e=Tr(t),r=Ur(t),i=Tr(n),a=Ur(n);function o(t,n){var o=Tr(n),u=Tr(t)*o,s=Ur(t)*o,l=Ur(n),c=l*e+u*r;return[Nr(s*i-c*a,u*e-l*r),Gr(c*i+s*a)]}return o.invert=function(t,n){var o=Tr(n),u=Tr(t)*o,s=Ur(t)*o,l=Ur(n),c=l*i-s*a;return[Nr(s*i+l*a,u*e+c*r),Gr(c*e-u*r)]},o}function la(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Zr,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ca(t,n){return Pr(t[0]-n[0])<_r&&Pr(t[1]-n[1])<_r}function ha(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function fa(t,n,e,r,i){var a,o,u=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(ca(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2e-6}u.push(e=new ha(r,t,null,!0)),s.push(e.o=new ha(r,null,e,!1)),u.push(e=new ha(o,t,null,!1)),s.push(e.o=new ha(o,null,e,!0))}}),u.length){for(s.sort(n),pa(u),pa(s),a=0,o=s.length;a<o;++a)s[a].e=e=!e;for(var l,c,h=u[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,o=l.length;a<o;++a)i.point((c=l[a])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function pa(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function da(t){return[Nr(t[1],t[0]),Gr(t[2])]}function ma(t){var n=t[0],e=t[1],r=Tr(e);return[r*Tr(n),r*Ur(n),Ur(e)]}function ga(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ya(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function va(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function xa(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ba(t){var n=Fr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function _a(t){return Pr(t[0])<=wr?t[0]:zr(t[0])*((Pr(t[0])+wr)%Ar-wr)}function wa(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function Ea(t,n,e,r){return function(i){var a,o,u,s=n(i),l=la(),c=n(l),h=!1,f={point:p,lineStart:m,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=v,f.lineEnd=x,o=[],a=[]},polygonEnd:function(){f.point=p,f.lineStart=m,f.lineEnd=g,o=wa(o);var t=function(t,n){var e=_a(n),r=n[1],i=Ur(r),a=[Ur(e),-Tr(e),0],o=0,u=0,s=new Wr;1===i?r=Er+_r:-1===i&&(r=-Er-_r);for(var l=0,c=t.length;l<c;++l)if(f=(h=t[l]).length)for(var h,f,p=h[f-1],d=_a(p),m=p[1]/2+Mr,g=Ur(m),y=Tr(m),v=0;v<f;++v,d=b,g=w,y=E,p=x){var x=h[v],b=_a(x),_=x[1]/2+Mr,w=Ur(_),E=Tr(_),M=b-d,A=M>=0?1:-1,C=A*M,k=C>wr,P=g*w;if(s.add(Nr(P*A*Ur(C),y*E+P*Tr(C))),o+=k?M+A*Ar:M,k^d>=e^b>=e){var S=ya(ma(p),ma(x));ba(S);var N=ya(a,S);ba(N);var T=(k^M>=0?-1:1)*Gr(N[2]);(r>T||r===T&&(S[0]||S[1]))&&(u+=k^M>=0?1:-1)}}return(o<-1e-6||o<_r&&s<-1e-12)^1&u}(a,r);o.length?(h||(i.polygonStart(),h=!0),fa(o,Aa,t,e,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){s.point(t,n)}function m(){f.point=d,s.lineStart()}function g(){f.point=p,s.lineEnd()}function y(t,n){u.push([t,n]),c.point(t,n)}function v(){c.lineStart(),u=[]}function x(){y(u[0][0],u[0][1]),c.lineEnd();var t,n,e,r,s=c.clean(),f=l.result(),p=f.length;if(u.pop(),a.push(u),u=null,p)if(1&s){if((n=(e=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&s&&f.push(f.pop().concat(f.shift())),o.push(f.filter(Ma))}return f}}function Ma(t){return t.length>1}function Aa(t,n){return((t=t.x)[0]<0?t[1]-Er-_r:Er-t[1])-((n=n.x)[0]<0?n[1]-Er-_r:Er-n[1])}ia.invert=ia;var Ca=Ea(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var u=a>0?wr:-wr,s=Pr(a-e);Pr(s-wr)<_r?(t.point(e,r=(r+o)/2>0?Er:-Er),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(a,r),n=0):i!==u&&s>=wr&&(Pr(e-i)<_r&&(e-=i*_r),Pr(a-u)<_r&&(a-=u*_r),r=function(t,n,e,r){var i,a,o=Ur(t-e);return Pr(o)>_r?Sr((Ur(n)*(a=Tr(r))*Ur(e)-Ur(r)*(i=Tr(n))*Ur(t))/(i*a*o)):(n+r)/2}(e,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=a,r=o),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*Er,r.point(-wr,i),r.point(0,i),r.point(wr,i),r.point(wr,0),r.point(wr,-i),r.point(0,-i),r.point(-wr,-i),r.point(-wr,0),r.point(-wr,i);else if(Pr(t[0]-n[0])>_r){var a=t[0]<n[0]?wr:-wr;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])},[-wr,-Er]);function ka(t,n,e,r,i,a){if(e){var o=Tr(n),u=Ur(n),s=r*e;null==i?(i=n+r*Ar,a=n-s/2):(i=Pa(o,i),a=Pa(o,a),(r>0?i<a:i>a)&&(i+=r*Ar));for(var l,c=i;r>0?c>a:c<a;c-=s)l=da([o,-u*Tr(c),-u*Ur(c)]),t.point(l[0],l[1])}}function Pa(t,n){(n=ma(n))[0]-=t,ba(n);var e=function(t){return t>1?0:t<-1?wr:Math.acos(t)}(-n[1]);return((-n[2]<0?-e:e)+Ar-_r)%Ar}var Sa=1e9,Na=-Sa;function Ta(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,u,l){var c=0,h=0;if(null==i||(c=o(i,u))!==(h=o(a,u))||s(i,a)<0^u>0)do{l.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+u+4)%4)!==h);else l.point(a[0],a[1])}function o(r,i){return Pr(r[0]-t)<_r?i>0?0:3:Pr(r[0]-e)<_r?i>0?2:1:Pr(r[1]-n)<_r?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var s,l,c,h,f,p,d,m,g,y,v,x=o,b=la(),_={point:w,lineStart:function(){_.point=E,l&&l.push(c=[]);y=!0,g=!1,d=m=NaN},lineEnd:function(){s&&(E(h,f),p&&g&&b.rejoin(),s.push(b.result()));_.point=w,g&&x.lineEnd()},polygonStart:function(){x=b,s=[],l=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var a,o,u=l[e],s=1,c=u.length,h=u[0],f=h[0],p=h[1];s<c;++s)a=f,o=p,f=(h=u[s])[0],p=h[1],o<=r?p>r&&(f-a)*(r-o)>(p-o)*(t-a)&&++n:p<=r&&(f-a)*(r-o)<(p-o)*(t-a)&&--n;return n}(),e=v&&n,i=(s=wa(s)).length;(e||i)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&fa(s,u,n,a,o),o.polygonEnd());x=o,s=l=c=null}};function w(t,n){i(t,n)&&x.point(t,n)}function E(a,o){var u=i(a,o);if(l&&c.push([a,o]),y)h=a,f=o,p=u,y=!1,u&&(x.lineStart(),x.point(a,o));else if(u&&g)x.point(a,o);else{var s=[d=Math.max(Na,Math.min(Sa,d)),m=Math.max(Na,Math.min(Sa,m))],b=[a=Math.max(Na,Math.min(Sa,a)),o=Math.max(Na,Math.min(Sa,o))];!function(t,n,e,r,i,a){var o,u=t[0],s=t[1],l=0,c=1,h=n[0]-u,f=n[1]-s;if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>l&&(l=o)}if(o=i-u,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<c&&(c=o)}if(o=r-s,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=a-s,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}return l>0&&(t[0]=u+l*h,t[1]=s+l*f),c<1&&(n[0]=u+c*h,n[1]=s+c*f),!0}}}}}(s,b,t,n,e,r)?u&&(x.lineStart(),x.point(a,o),v=!1):(g||(x.lineStart(),x.point(s[0],s[1])),x.point(b[0],b[1]),u||x.lineEnd(),v=!1)}d=a,m=o,g=u}return _}}function Da(t){return function(n){var e=new ja;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ja(){}function Ia(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Jr(e,t.stream(xi)),n(xi.result()),null!=r&&t.clipExtent(r),t}function Ua(t,n,e){return Ia(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,u])},e)}ja.prototype={constructor:ja,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var za=Tr(30*kr);function Fa(t,n){return+n?function(t,n){function e(r,i,a,o,u,s,l,c,h,f,p,d,m,g){var y=l-r,v=c-i,x=y*y+v*v;if(x>4*n&&m--){var b=o+f,_=u+p,w=s+d,E=Fr(b*b+_*_+w*w),M=Gr(w/=E),A=Pr(Pr(w)-1)<_r||Pr(a-h)<_r?(a+h)/2:Nr(_,b),C=t(A,M),k=C[0],P=C[1],S=k-r,N=P-i,T=v*S-y*N;(T*T/x>n||Pr((y*S+v*N)/x-.5)>.3||o*f+u*p+s*d<za)&&(e(r,i,a,o,u,s,k,P,A,b/=E,_/=E,w,m,g),g.point(k,P),e(k,P,A,b,_,w,l,c,h,f,p,d,m,g))}}return function(n){var r,i,a,o,u,s,l,c,h,f,p,d,m={point:g,lineStart:y,lineEnd:x,polygonStart:function(){n.polygonStart(),m.lineStart=b},polygonEnd:function(){n.polygonEnd(),m.lineStart=y}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){c=NaN,m.point=v,n.lineStart()}function v(r,i){var a=ma([r,i]),o=t(r,i);e(c,h,l,f,p,d,c=o[0],h=o[1],l=r,f=a[0],p=a[1],d=a[2],16,n),n.point(c,h)}function x(){m.point=g,n.lineEnd()}function b(){y(),m.point=_,m.lineEnd=w}function _(t,n){v(r=t,n),i=c,a=h,o=f,u=p,s=d,m.point=v}function w(){e(c,h,l,f,p,d,i,a,r,o,u,s,16,n),m.lineEnd=x,x()}return m}}(t,n):function(t){return Da({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Ba=Da({point:function(t,n){this.stream.point(t*kr,n*kr)}});function Ga(t,n,e,r,i,a){if(!a)return function(t,n,e,r,i){function a(a,o){return[n+t*(a*=r),e-t*(o*=i)]}return a.invert=function(a,o){return[(a-n)/t*r,(e-o)/t*i]},a}(t,n,e,r,i);var o=Tr(a),u=Ur(a),s=o*t,l=u*t,c=o/t,h=u/t,f=(u*e-o*n)/t,p=(u*n+o*e)/t;function d(t,a){return[s*(t*=r)-l*(a*=i)+n,e-l*t-s*a]}return d.invert=function(t,n){return[r*(c*t-h*n+f),i*(p-h*t-c*n)]},d}function Oa(t){return function(t){var n,e,r,i,a,o,u,s,l,c,h=150,f=480,p=250,d=0,m=0,g=0,y=0,v=0,x=0,b=1,_=1,w=null,E=Ca,M=null,A=Vr,C=.5;function k(t){return s(t[0]*kr,t[1]*kr)}function P(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Cr,t[1]*Cr]}function S(){var t=Ga(h,0,0,b,_,x).apply(null,n(d,m)),r=Ga(h,f-t[0],p-t[1],b,_,x);return e=aa(g,y,v),u=ra(n,r),s=ra(e,u),o=Fa(u,C),N()}function N(){return l=c=null,k}return k.stream=function(t){return l&&c===t?l:l=Ba(function(t){return Da({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(E(o(A(c=t)))))},k.preclip=function(t){return arguments.length?(E=t,w=void 0,N()):E},k.postclip=function(t){return arguments.length?(A=t,M=r=i=a=null,N()):A},k.clipAngle=function(t){return arguments.length?(E=+t?function(t){var n=Tr(t),e=2*kr,r=n>0,i=Pr(n)>_r;function a(t,e){return Tr(t)*Tr(e)>n}function o(t,e,r){var i=[1,0,0],a=ya(ma(t),ma(e)),o=ga(a,a),u=a[0],s=o-u*u;if(!s)return!r&&t;var l=n*o/s,c=-n*u/s,h=ya(i,a),f=xa(i,l);va(f,xa(a,c));var p=h,d=ga(f,p),m=ga(p,p),g=d*d-m*(ga(f,f)-1);if(!(g<0)){var y=Fr(g),v=xa(p,(-d-y)/m);if(va(v,f),v=da(v),!r)return v;var x,b=t[0],_=e[0],w=t[1],E=e[1];_<b&&(x=b,b=_,_=x);var M=_-b,A=Pr(M-wr)<_r;if(!A&&E<w&&(x=w,w=E,E=x),A||M<_r?A?w+E>0^v[1]<(Pr(v[0]-b)<_r?w:E):w<=v[1]&&v[1]<=E:M>wr^(b<=v[0]&&v[0]<=_)){var C=xa(p,(-d+y)/m);return va(C,f),[v,da(C)]}}}function u(n,e){var i=r?t:wr-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return Ea(a,function(t){var n,e,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(h,f){var p,d=[h,f],m=a(h,f),g=r?m?0:u(h,f):m?u(h+(h<0?wr:-wr),f):0;if(!n&&(l=s=m)&&t.lineStart(),m!==s&&(!(p=o(n,d))||ca(n,p)||ca(d,p))&&(d[2]=1),m!==s)c=0,m?(t.lineStart(),p=o(d,n),t.point(p[0],p[1])):(p=o(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^m){var y;g&e||!(y=o(d,n,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!m||n&&ca(n,d)||t.point(d[0],d[1]),n=d,s=m,e=g},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return c|(l&&s)<<1}}},function(n,r,i,a){ka(a,t,e,i,n,r)},r?[0,-t]:[-wr,t-wr])}(w=t*kr):(w=null,Ca),N()):w*Cr},k.clipExtent=function(t){return arguments.length?(A=null==t?(M=r=i=a=null,Vr):Ta(M=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),N()):null==M?null:[[M,r],[i,a]]},k.scale=function(t){return arguments.length?(h=+t,S()):h},k.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],S()):[f,p]},k.center=function(t){return arguments.length?(d=t[0]%360*kr,m=t[1]%360*kr,S()):[d*Cr,m*Cr]},k.rotate=function(t){return arguments.length?(g=t[0]%360*kr,y=t[1]%360*kr,v=t.length>2?t[2]%360*kr:0,S()):[g*Cr,y*Cr,v*Cr]},k.angle=function(t){return arguments.length?(x=t%360*kr,S()):x*Cr},k.reflectX=function(t){return arguments.length?(b=t?-1:1,S()):b<0},k.reflectY=function(t){return arguments.length?(_=t?-1:1,S()):_<0},k.precision=function(t){return arguments.length?(o=Fa(u,C=t*t),N()):Fr(C)},k.fitExtent=function(t,n){return Ua(k,t,n)},k.fitSize=function(t,n){return function(t,n,e){return Ua(t,[[0,0],n],e)}(k,t,n)},k.fitWidth=function(t,n){return function(t,n,e){return Ia(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([a,o])},e)}(k,t,n)},k.fitHeight=function(t,n){return function(t,n,e){return Ia(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,o])},e)}(k,t,n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&P,S()}}(function(){return t})()}function Ra(t,n){return[t,Ir(Br((Er+n)/2))]}function Ya(){return function(t){var n,e,r,i=Oa(t),a=i.center,o=i.scale,u=i.translate,s=i.clipExtent,l=null;function c(){var a=wr*o(),u=i(function(t){function n(n){return(n=t(n[0]*kr,n[1]*kr))[0]*=Cr,n[1]*=Cr,n}return t=aa(t[0]*kr,t[1]*kr,t.length>2?t[2]*kr:0),n.invert=function(n){return(n=t.invert(n[0]*kr,n[1]*kr))[0]*=Cr,n[1]*=Cr,n},n}(i.rotate()).invert([0,0]));return s(null==l?[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]:t===Ra?[[Math.max(u[0]-a,l),n],[Math.min(u[0]+a,e),r]]:[[l,Math.max(u[1]-a,n)],[e,Math.min(u[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),c()):o()},i.translate=function(t){return arguments.length?(u(t),c()):u()},i.center=function(t){return arguments.length?(a(t),c()):a()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,n],[e,r]]},c()}(Ra).scale(961/Ar)}function Va(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Ha(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}Ra.invert=function(t,n){return[t,2*Sr(jr(n))-Er]};class $a extends Map{constructor(t,n=Ja){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(La(this,t))}has(t){return super.has(La(this,t))}set(t,n){return super.set(qa(this,t),n)}delete(t){return super.delete(Xa(this,t))}}Set;function La({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function qa({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Xa({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Ja(t){return null!==t&&"object"==typeof t?t.valueOf():t}const Wa=Symbol("implicit");function Za(){var t=new $a,n=[],e=[],r=Wa;function i(i){let a=t.get(i);if(void 0===a){if(r!==Wa)return r;t.set(i,a=n.push(i)-1)}return e[a%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new $a;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Za(n,e).unknown(r)},Va.apply(i,arguments),i}function Qa(){var t,n,e=Za().unknown(void 0),r=e.domain,i=e.range,a=0,o=1,s=!1,l=0,c=0,h=.5;function f(){var e=r().length,f=o<a,p=f?o:a,d=f?a:o;t=(d-p)/Math.max(1,e-l+2*c),s&&(t=Math.floor(t)),p+=(d-p-t*(e-l))*h,n=t*(1-l),s&&(p=Math.round(p),n=Math.round(n));var m=u(e).map(function(n){return p+t*n});return i(f?m.reverse():m)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,f()):[a,o]},e.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,s=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(s=!!t,f()):s},e.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},e.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},e.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},e.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),f()):h},e.copy=function(){return Qa(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(h)},Va.apply(f(),arguments)}const Ka=Math.sqrt(50),to=Math.sqrt(10),no=Math.sqrt(2);function eo(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ka?10:a>=to?5:a>=no?2:1;let u,s,l;return i<0?(l=Math.pow(10,-i)/o,u=Math.round(t*l),s=Math.round(n*l),u/l<t&&++u,s/l>n&&--s,l=-l):(l=Math.pow(10,i)*o,u=Math.round(t/l),s=Math.round(n/l),u*l<t&&++u,s*l>n&&--s),s<u&&.5<=e&&e<2?eo(t,n,2*e):[u,s,l]}function ro(t,n,e){return eo(t=+t,n=+n,e=+e)[2]}function io(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?ro(n,t,e):ro(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function ao(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function oo(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function uo(t){let n,e,r;function i(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<0?i=n+1:a=n}while(i<a)}return i}return 2!==t.length?(n=ao,e=(n,e)=>ao(t(n),e),r=(n,e)=>t(n)-e):(n=t===ao||t===oo?t:so,e=t,r=t),{left:i,center:function(t,n,e=0,a=t.length){const o=i(t,n,e,a-1);return o>e&&r(t[o-1],n)>-r(t[o],n)?o-1:o},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==n(r,r))return a;do{const n=i+a>>>1;e(t[n],r)<=0?i=n+1:a=n}while(i<a)}return i}}}function so(){return 0}const lo=uo(ao),co=lo.right;lo.left,uo(function(t){return null===t?NaN:+t}).center;var ho=co;function fo(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=yo(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}function po(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function mo(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=yo(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function go(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}}function yo(t,n){var e,r=typeof n;return null==n||"boolean"===r?ne(n):("number"===r?ln:"string"===r?(e=Bn(n))?(n=e,ae):ce:n instanceof Bn?ae:n instanceof Date?po:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?go:Array.isArray(n)?fo:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?mo:ln)(t,n)}function vo(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function xo(t){return+t}var bo=[0,1];function _o(t){return t}function wo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Eo(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=wo(i,r),a=e(o,a)):(r=wo(r,i),a=e(a,o)),function(t){return a(r(t))}}function Mo(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=wo(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=ho(t,n,1,r)-1;return a[e](i[e](n))}}function Ao(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Co(){var t,n,e,r,i,a,o=bo,u=bo,s=yo,l=_o;function c(){var t=Math.min(o.length,u.length);return l!==_o&&(l=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(o[0],o[t-1])),r=t>2?Mo:Eo,i=a=null,h}function h(n){return null==n||isNaN(n=+n)?e:(i||(i=r(o.map(t),u,s)))(t(l(n)))}return h.invert=function(e){return l(n((a||(a=r(u,o.map(t),ln)))(e)))},h.domain=function(t){return arguments.length?(o=Array.from(t,xo),c()):o.slice()},h.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},h.rangeRound=function(t){return u=Array.from(t),s=vo,c()},h.clamp=function(t){return arguments.length?(l=!!t||_o,c()):l!==_o},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,c()}}function ko(){return Co()(_o,_o)}var Po,So=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function No(t){if(!(n=So.exec(t)))throw new Error("invalid format: "+t);var n;return new To({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function To(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Do(t,n){if(!isFinite(t)||0===t)return null;var e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"),r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function jo(t){return(t=Do(Math.abs(t)))?t[1]:NaN}function Io(t,n){var e=Do(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}No.prototype=To.prototype,To.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Uo={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Io(100*t,n),r:Io,s:function(t,n){var e=Do(t,n);if(!e)return Po=void 0,t.toPrecision(n);var r=e[0],i=e[1],a=i-(Po=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Do(t,Math.max(0,n+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zo(t){return t}var Fo,Bo,Go,Oo=Array.prototype.map,Ro=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yo(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?zo:(n=Oo.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?zo:function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(Oo.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t,n){var e=(t=No(t)).fill,h=t.align,f=t.sign,p=t.symbol,d=t.zero,m=t.width,g=t.comma,y=t.precision,v=t.trim,x=t.type;"n"===x?(g=!0,x="g"):Uo[x]||(void 0===y&&(y=12),v=!0,x="g"),(d||"0"===e&&"="===h)&&(d=!0,e="0",h="=");var b=(n&&void 0!==n.prefix?n.prefix:"")+("$"===p?i:"#"===p&&/[boxX]/.test(x)?"0"+x.toLowerCase():""),_=("$"===p?a:/[%p]/.test(x)?s:"")+(n&&void 0!==n.suffix?n.suffix:""),w=Uo[x],E=/[defgprs%]/.test(x);function M(t){var n,i,a,s=b,p=_;if("c"===x)p=w(t)+p,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),y),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0===+t&&"+"!==f&&(M=!1),s=(M?"("===f?f:l:"-"===f||"("===f?"":f)+s,p=("s"!==x||isNaN(t)||void 0===Po?"":Ro[8+Po/3])+p+(M&&"("===f?")":""),E)for(n=-1,i=t.length;++n<i;)if(48>(a=t.charCodeAt(n))||a>57){p=(46===a?o+t.slice(n+1):t.slice(n))+p,t=t.slice(0,n);break}}g&&!d&&(t=r(t,1/0));var A=s.length+t.length+p.length,C=A<m?new Array(m-A+1).join(e):"";switch(g&&d&&(t=r(C+t,C.length?m-p.length:1/0),C=""),h){case"<":t=s+t+p+C;break;case"=":t=s+C+t+p;break;case"^":t=C.slice(0,A=C.length>>1)+s+t+p+C.slice(A);break;default:t=C+s+t+p}return u(t)}return y=void 0===y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=3*Math.max(-8,Math.min(8,Math.floor(jo(n)/3))),r=Math.pow(10,-e),i=h(((t=No(t)).type="f",t),{suffix:Ro[8+e/3]});return function(t){return i(r*t)}}}}function Vo(t,n,e,r){var i,a=io(t,n,e);switch((r=No(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jo(n)/3)))-jo(Math.abs(t)))}(a,o))||(r.precision=i),Go(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,jo(n)-jo(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-jo(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Bo(r)}function Ho(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,a,o]=r?eo(n,t,e):eo(t,n,e);if(!(a>=i))return[];const u=a-i+1,s=new Array(u);if(r)if(o<0)for(let l=0;l<u;++l)s[l]=(a-l)/-o;else for(let l=0;l<u;++l)s[l]=(a-l)*o;else if(o<0)for(let l=0;l<u;++l)s[l]=(i+l)/-o;else for(let l=0;l<u;++l)s[l]=(i+l)*o;return s}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Vo(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,a=n(),o=0,u=a.length-1,s=a[o],l=a[u],c=10;for(l<s&&(i=s,s=l,l=i,i=o,o=u,u=i);c-- >0;){if((i=ro(s,l,e))===r)return a[o]=s,a[u]=l,n(a);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function $o(){var t=ko();return t.copy=function(){return Ao(t,$o())},Va.apply(t,arguments),Ho(t)}Fo=Yo({thousands:",",grouping:[3],currency:["$",""]}),Bo=Fo.format,Go=Fo.formatPrefix;const Lo=1e3,qo=6e4,Xo=36e5,Jo=864e5,Wo=6048e5,Zo=2592e6,Qo=31536e6,Ko=new Date,tu=new Date;function nu(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,a)=>{const o=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return o;let u;do{o.push(u=new Date(+e)),n(e,a),t(e)}while(u<e&&e<r);return o},i.filter=e=>nu(n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},(t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}),e&&(i.count=(n,r)=>(Ko.setTime(+n),tu.setTime(+r),t(Ko),t(tu),Math.floor(e(Ko,tu))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t===0:n=>i.count(0,n)%t===0):i:null)),i}const eu=nu(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);eu.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?nu(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):eu:null);eu.range;const ru=nu(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Lo)},(t,n)=>(n-t)/Lo,t=>t.getUTCSeconds()),iu=(ru.range,nu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lo)},(t,n)=>{t.setTime(+t+n*qo)},(t,n)=>(n-t)/qo,t=>t.getMinutes())),au=(iu.range,nu(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*qo)},(t,n)=>(n-t)/qo,t=>t.getUTCMinutes())),ou=(au.range,nu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lo-t.getMinutes()*qo)},(t,n)=>{t.setTime(+t+n*Xo)},(t,n)=>(n-t)/Xo,t=>t.getHours())),uu=(ou.range,nu(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Xo)},(t,n)=>(n-t)/Xo,t=>t.getUTCHours())),su=(uu.range,nu(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qo)/Jo,t=>t.getDate()-1)),lu=(su.range,nu(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Jo,t=>t.getUTCDate()-1)),cu=(lu.range,nu(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Jo,t=>Math.floor(t/Jo)));cu.range;function hu(t){return nu(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+7*n)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qo)/Wo)}const fu=hu(0),pu=hu(1),du=hu(2),mu=hu(3),gu=hu(4),yu=hu(5),vu=hu(6);fu.range,pu.range,du.range,mu.range,gu.range,yu.range,vu.range;function xu(t){return nu(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)},(t,n)=>(n-t)/Wo)}const bu=xu(0),_u=xu(1),wu=xu(2),Eu=xu(3),Mu=xu(4),Au=xu(5),Cu=xu(6),ku=(bu.range,_u.range,wu.range,Eu.range,Mu.range,Au.range,Cu.range,nu(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth())),Pu=(ku.range,nu(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth())),Su=(Pu.range,nu(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear()));Su.every=t=>isFinite(t=Math.floor(t))&&t>0?nu(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null;Su.range;const Nu=nu(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nu.every=t=>isFinite(t=Math.floor(t))&&t>0?nu(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null;Nu.range;function Tu(t,n,e,r,i,a){const o=[[ru,1,Lo],[ru,5,5e3],[ru,15,15e3],[ru,30,3e4],[a,1,qo],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Xo],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Jo],[r,2,1728e5],[e,1,Wo],[n,1,Zo],[n,3,7776e6],[t,1,Qo]];function u(n,e,r){const i=Math.abs(e-n)/r,a=uo(([,,t])=>t).right(o,i);if(a===o.length)return t.every(io(n/Qo,e/Qo,r));if(0===a)return eu.every(Math.max(io(n,e,r),1));const[u,s]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return u.every(s)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:u(t,n,e),a=i?i.range(t,+n+1):[];return r?a.reverse():a},u]}const[Du,ju]=Tu(Nu,Pu,bu,cu,uu,au),[Iu,Uu]=Tu(Su,ku,fu,su,ou,iu);function zu(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fu(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bu(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Gu,Ou,Ru={"-":"",_:" ",0:"0"},Yu=/^\s*\d+/,Vu=/^%/,Hu=/[\\^$*+?|[\]().{}]/g;function $u(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function Lu(t){return t.replace(Hu,"\\$&")}function qu(t){return new RegExp("^(?:"+t.map(Lu).join("|")+")","i")}function Xu(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function Ju(t,n,e){var r=Yu.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Wu(t,n,e){var r=Yu.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Zu(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Qu(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function ts(t,n,e){var r=Yu.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ns(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function es(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function rs(t,n,e){var r=Yu.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function is(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function as(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function os(t,n,e){var r=Yu.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function us(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ss(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ls(t,n,e){var r=Yu.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function cs(t,n,e){var r=Yu.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function hs(t,n,e){var r=Yu.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function fs(t,n,e){var r=Vu.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ps(t,n,e){var r=Yu.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ds(t,n,e){var r=Yu.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function ms(t,n){return $u(t.getDate(),n,2)}function gs(t,n){return $u(t.getHours(),n,2)}function ys(t,n){return $u(t.getHours()%12||12,n,2)}function vs(t,n){return $u(1+su.count(Su(t),t),n,3)}function xs(t,n){return $u(t.getMilliseconds(),n,3)}function bs(t,n){return xs(t,n)+"000"}function _s(t,n){return $u(t.getMonth()+1,n,2)}function ws(t,n){return $u(t.getMinutes(),n,2)}function Es(t,n){return $u(t.getSeconds(),n,2)}function Ms(t){var n=t.getDay();return 0===n?7:n}function As(t,n){return $u(fu.count(Su(t)-1,t),n,2)}function Cs(t){var n=t.getDay();return n>=4||0===n?gu(t):gu.ceil(t)}function ks(t,n){return t=Cs(t),$u(gu.count(Su(t),t)+(4===Su(t).getDay()),n,2)}function Ps(t){return t.getDay()}function Ss(t,n){return $u(pu.count(Su(t)-1,t),n,2)}function Ns(t,n){return $u(t.getFullYear()%100,n,2)}function Ts(t,n){return $u((t=Cs(t)).getFullYear()%100,n,2)}function Ds(t,n){return $u(t.getFullYear()%1e4,n,4)}function js(t,n){var e=t.getDay();return $u((t=e>=4||0===e?gu(t):gu.ceil(t)).getFullYear()%1e4,n,4)}function Is(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+$u(n/60|0,"0",2)+$u(n%60,"0",2)}function Us(t,n){return $u(t.getUTCDate(),n,2)}function zs(t,n){return $u(t.getUTCHours(),n,2)}function Fs(t,n){return $u(t.getUTCHours()%12||12,n,2)}function Bs(t,n){return $u(1+lu.count(Nu(t),t),n,3)}function Gs(t,n){return $u(t.getUTCMilliseconds(),n,3)}function Os(t,n){return Gs(t,n)+"000"}function Rs(t,n){return $u(t.getUTCMonth()+1,n,2)}function Ys(t,n){return $u(t.getUTCMinutes(),n,2)}function Vs(t,n){return $u(t.getUTCSeconds(),n,2)}function Hs(t){var n=t.getUTCDay();return 0===n?7:n}function $s(t,n){return $u(bu.count(Nu(t)-1,t),n,2)}function Ls(t){var n=t.getUTCDay();return n>=4||0===n?Mu(t):Mu.ceil(t)}function qs(t,n){return t=Ls(t),$u(Mu.count(Nu(t),t)+(4===Nu(t).getUTCDay()),n,2)}function Xs(t){return t.getUTCDay()}function Js(t,n){return $u(_u.count(Nu(t)-1,t),n,2)}function Ws(t,n){return $u(t.getUTCFullYear()%100,n,2)}function Zs(t,n){return $u((t=Ls(t)).getUTCFullYear()%100,n,2)}function Qs(t,n){return $u(t.getUTCFullYear()%1e4,n,4)}function Ks(t,n){var e=t.getUTCDay();return $u((t=e>=4||0===e?Mu(t):Mu.ceil(t)).getUTCFullYear()%1e4,n,4)}function tl(){return"+0000"}function nl(){return"%"}function el(t){return+t}function rl(t){return Math.floor(+t/1e3)}function il(t){return new Date(t)}function al(t){return t instanceof Date?+t:+new Date(+t)}function ol(t,n,e,r,i,a,o,u,s,l){var c=ko(),h=c.invert,f=c.domain,p=l(".%L"),d=l(":%S"),m=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),v=l("%b %d"),x=l("%B"),b=l("%Y");function _(t){return(s(t)<t?p:u(t)<t?d:o(t)<t?m:a(t)<t?g:r(t)<t?i(t)<t?y:v:e(t)<t?x:b)(t)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Array.from(t,al)):f().map(il)},c.ticks=function(n){var e=f();return t(e[0],e[e.length-1],null==n?10:n)},c.tickFormat=function(t,n){return null==n?_:l(n)},c.nice=function(t){var e=f();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?f(function(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t}(e,t)):c},c.copy=function(){return Ao(c,ol(t,n,e,r,i,a,o,u,s,l))},c}function ul(){return Va.apply(ol(Iu,Uu,Su,ku,fu,su,ou,iu,ru,Ou).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sl(){var t,n,e,r,i,a=0,o=1,u=_o,s=!1;function l(n){return null==n||isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}function c(t){return function(n){var e,r;return arguments.length?([e,r]=n,u=t(e,r),l):[u(0),u(1)]}}return l.domain=function(i){return arguments.length?([a,o]=i,t=r(a=+a),n=r(o=+o),e=t===n?0:1/(n-t),l):[a,o]},l.clamp=function(t){return arguments.length?(s=!!t,l):s},l.interpolator=function(t){return arguments.length?(u=t,l):u},l.range=c(yo),l.rangeRound=c(vo),l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(a),n=i(o),e=t===n?0:1/(n-t),l}}function ll(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cl(){var t=Ho(sl()(_o));return t.copy=function(){return ll(t,cl())},Ha.apply(t,arguments)}function hl(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){Gu=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,s=t.shortMonths,l=qu(i),c=Xu(i),h=qu(a),f=Xu(a),p=qu(o),d=Xu(o),m=qu(u),g=Xu(u),y=qu(s),v=Xu(s),x={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:ms,e:ms,f:bs,g:Ts,G:js,H:gs,I:ys,j:vs,L:xs,m:_s,M:ws,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:el,s:rl,S:Es,u:Ms,U:As,V:ks,w:Ps,W:Ss,x:null,X:null,y:Ns,Y:Ds,Z:Is,"%":nl},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Us,e:Us,f:Os,g:Zs,G:Ks,H:zs,I:Fs,j:Bs,L:Gs,m:Rs,M:Ys,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:el,s:rl,S:Vs,u:Hs,U:$s,V:qs,w:Xs,W:Js,x:null,X:null,y:Ws,Y:Qs,Z:tl,"%":nl},_={a:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=f.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=v.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=g.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:as,e:as,f:hs,g:ns,G:ts,H:us,I:us,j:os,L:cs,m:is,M:ss,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c.get(r[0].toLowerCase()),e+r[0].length):-1},q:rs,Q:ps,s:ds,S:ls,u:Wu,U:Zu,V:Qu,w:Ju,W:Ku,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:ns,Y:ts,Z:es,"%":fs};function w(t,n){return function(e){var r,i,a,o=[],u=-1,s=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++u<l;)37===t.charCodeAt(u)&&(o.push(t.slice(s,u)),null!=(i=Ru[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),s=u+1);return o.push(t.slice(s,u)),o.join("")}}function E(t,n){return function(e){var r,i,a=Bu(1900,void 0,1);if(M(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(n&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Fu(Bu(a.y,0,1))).getUTCDay(),r=i>4||0===i?_u.ceil(r):_u(r),r=lu.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=zu(Bu(a.y,0,1))).getDay(),r=i>4||0===i?pu.ceil(r):pu(r),r=su.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Fu(Bu(a.y,0,1)).getUTCDay():zu(Bu(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Fu(a)):zu(a)}}function M(t,n,e,r){for(var i,a,o=0,u=n.length,s=e.length;o<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(a=_[i in Ru?n.charAt(o++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return x.x=w(e,x),x.X=w(r,x),x.c=w(n,x),b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),{format:function(t){var n=w(t+="",x);return n.toString=function(){return t},n},parse:function(t){var n=E(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=E(t+="",!0);return n.toString=function(){return t},n}}}(t),Ou=Gu.format,Gu.parse,Gu.utcFormat,Gu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var fl=hl("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),pl=(t=>ue(t[t.length-1]))(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(hl));Array.prototype.slice;function dl(t){return function(){return t}}function ml(t,n){if((i=t.length)>1)for(var e,r,i,a=1,o=t[n[0]],u=o.length;a<i;++a)for(r=o,o=t[n[a]],e=0;e<u;++e)o[e][1]+=o[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function gl(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function yl(t,n){return t[n]}function vl(t){const n=[];return n.key=t,n}function xl(){var t=dl([]),n=gl,e=ml,r=yl;function i(i){var a,o,u=Array.from(t.apply(this,arguments),vl),s=u.length,l=-1;for(const t of i)for(a=0,++l;a<s;++a)(u[a][l]=[0,+r(t,u[a].key,l,i)]).data=t;for(a=0,o=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(n(u));a<s;++a)u[o[a]].index=a;return e(u,o),u}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:dl(Array.from(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:dl(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?gl:"function"==typeof t?t:dl(Array.from(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?ml:t,i):e},i}function bl(t){return((t=Math.exp(t))+1/t)/2}var _l=function t(n,e,r){function i(t,i){var a,o,u=t[0],s=t[1],l=t[2],c=i[0],h=i[1],f=i[2],p=c-u,d=h-s,m=p*p+d*d;if(m<1e-12)o=Math.log(f/l)/n,a=function(t){return[u+t*p,s+t*d,l*Math.exp(n*t*o)]};else{var g=Math.sqrt(m),y=(f*f-l*l+r*m)/(2*l*e*g),v=(f*f-l*l-r*m)/(2*f*e*g),x=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(v*v+1)-v);o=(b-x)/n,a=function(t){var r=t*o,i=bl(x),a=l/(e*g)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(n*r+x)-function(t){return((t=Math.exp(t))-1/t)/2}(x));return[u+a*p,s+a*d,l*i/bl(n*r+x)]}}return a.duration=1e3*o*n/Math.SQRT2,a}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4),wl=t=>()=>t;function El(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ml(t,n,e){this.k=t,this.x=n,this.y=e}Ml.prototype={constructor:Ml,scale:function(t){return 1===t?this:new Ml(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ml(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Al=new Ml(1,0,0);function Cl(t){t.stopImmediatePropagation()}function kl(t){t.preventDefault(),t.stopImmediatePropagation()}function Pl(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Sl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Nl(){return this.__zoom||Al}function Tl(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Dl(){return navigator.maxTouchPoints||"ontouchstart"in this}function jl(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],a=t.invertY(n[0][1])-e[0][1],o=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}Ml.prototype;const Il={Assassination:"red","Natural Causes":"purple",Execution:"black",Suicide:"orange","Died in Battle":"blue",Unknown:"grey",Captivity:"pink"},Ul={"Julio-Claudian":"#8B4513",Flavian:"#D4AF37","Nerva-Antonine":"#C0C0C0",Severan:"#FF6B6B",Gordian:"#4ECDC4",Constantinian:"#45B7D1",Valentinian:"#96CEB4",Theodosian:"#FFEAA7",Unknown:"#CCCCCC"};var zl=t=>{const{0:n,1:e}=(0,r.useState)("chronological"),{0:i,1:u}=(0,r.useState)("all"),s=(0,r.useRef)(null),l="undefined"!=typeof window&&window.innerWidth<640;function c(t){if(!t)return"Unknown";t.startsWith("-");const n=new Date(t);return n.getUTCDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getUTCMonth()]+" "+Math.abs(parseInt(t.split("-")[0]))+(t.startsWith("0")?" BCE":" CE")}(0,r.useEffect)(()=>(function(){if(!s.current)return;let e=[];for(let n in t.data)"Pre Emperor"in t.data[n]&&e.push(t.data[n]);const r=Be(s.current);r.selectAll("svg").remove(),r.selectAll("div.tooltip").remove();let u=Object.keys(Il).map(function(t){return t}),h=Object.keys(Il).map(function(t){return Il[t]});const f=t=>{const n=t.reign_start||t.birth,e=t.reign_end||t.death;if(!n||!e)return null;const r=parseInt(n.split("-")[0],10),i=parseInt(e.split("-")[0],10);if(Number.isNaN(r)||Number.isNaN(i))return null;const a=r>i?-(r-1):r,o=new Date(Date.UTC(0,0,1));return o.setUTCFullYear(a),o},p=new Map;e.forEach(t=>{const n=t.dynasty||"Unknown",e=f(t);if(!e)return;const r=p.get(n);(!r||e<r)&&p.set(n,e)});let d=(0,a.A)(new Set(e.map(t=>t.dynasty||"Unknown")));d.sort((t,n)=>{const e=p.get(t),r=p.get(n);return e&&r?e-r:e?-1:r?1:t.localeCompare(n)});let m=Za().domain(d).range(d.map(t=>Ul[t]||Ul.Unknown)),y=Za().range(["#38b3fa","#800080","#748091"]),v=[];for(let t in e[0])"name"!==t&&"index"!==t&&"cause"!==t&&"dynasty"!==t&&"birth"!==t&&"death"!==t&&"reign_start"!==t&&"reign_end"!==t&&"image"!==t&&"total"!==t&&"birth_lat"!==t&&"birth_lng"!==t&&"birth_city"!==t&&"rise"!==t&&"killer"!==t&&v.push(t);"reign_length"===n?v=["Emperor"]:"age"===n&&(v=["Pre Emperor","Emperor","Post Emperor"]);e.forEach(function(t){t.total=0,v.forEach(function(n){t.total+=t[n]})});let x=e;"all"!==i&&(x=e.filter(t=>t.dynasty===i));"chronological"===n?x.sort(function(t,n){return t.index-n.index}):"reign_length"===n?x.sort(function(t,n){return n.Emperor-t.Emperor}):"age"===n&&x.sort(function(t,n){const e=t["Pre Emperor"]+t.Emperor+(t["Post Emperor"]||0);return n["Pre Emperor"]+n.Emperor+(n["Post Emperor"]||0)-e});e=x;const b=l?20:320;let _={top:20,right:l?10:20+b,bottom:40,left:l?20:30};const w=l?18:14,E=Math.max(520,e.length*w);let M=100;s.current?M=s.current.clientWidth-_.left-_.right:"undefined"!=typeof window&&(M=window.innerWidth-_.left-_.right);M<240&&(M=240);M>1440&&(M-=M-1e3);const A=l?M+_.left+_.right:Math.max(500,M+_.left+_.right),C=E+_.top+_.bottom;let k=r.append("div").attr("class","tooltip").style("position","absolute").style("padding","10px 14px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","4px").style("pointer-events","none").style("font-size",l?"16px":"14px").style("line-height","1.35").style("max-width","320px").style("z-index","1000").style("opacity",0).style("transition","opacity 0.3s"),P=r.append("svg").attr("viewBox","0 0 "+A+" "+C).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate("+_.left+","+_.top+")"),S=$o().range([0,M]),N=Qa().range([0,E]).domain(e.map(function(t){return t.name})).padding(.1);const T=o(e.length?e:[],function(t){return t.total});S.domain([0,T||0]).nice(),y.domain(v),P.append("g").selectAll("g").data(xl().keys(v)(e)).enter().append("g").attr("fill",function(t){return y(t.key)}).selectAll("rect").data(function(t){return t}).enter().append("rect").attr("y",function(t){return N(t.data.name)}).attr("x",function(t){return S(t[0])}).attr("width",function(t){return-(S(t[0])-S(t[1]))}).attr("height",N.bandwidth()).style("opacity",.8),P.append("g").attr("class","axis").attr("transform","translate(0,"+E+")").call(g(S).tickFormat(function(t){return t+" yrs"}).tickSize(-E));const D=t=>{const n=r.node(),e=k.node();if(!n||!e)return;const i=n.getBoundingClientRect(),a=e.getBoundingClientRect();let o=t.clientX-i.left+12,u=t.clientY-i.top+12;o=Math.max(8,Math.min(o,i.width-a.width-8)),u=Math.max(8,Math.min(u,i.height-a.height-8)),k.style("left",o+"px").style("top",u+"px")},j=(t,n)=>{k.transition().duration(200).style("opacity",1);const e=c(n.reign_start||n.birth),r=c(n.reign_end||n.death),i=n["Pre Emperor"]+n.Emperor+(n["Post Emperor"]||0),a=n.image?'<img src="'+n.image+'" alt="'+n.name+'" style="width:64px;height:64px;object-fit:cover;border-radius:4px;flex:0 0 auto;" />':"",o="<strong>"+n.name+"</strong><br/>Dynasty: "+(n.dynasty||"Unknown")+"<br/>Reign: "+e+"  "+r+"<br/>Age at death: "+i+" years<br/>Reign length: "+n.Emperor+" years<br/>Cause of death: "+n.cause;k.html('<div style="display:flex;gap:10px;align-items:center;">'+a+'<div style="min-width:0;">'+o+"</div></div>"),D(t)},I=t=>{D(t)},U=()=>{k.transition().duration(200).style("opacity",0)},z=P.append("g").attr("class","dynasty-bar").selectAll("rect").data(e).enter().append("rect").attr("y",function(t){return N(t.name)}).attr("x",0).attr("width",function(t){return S(t.total)}).attr("height",N.bandwidth()).style("fill",function(t){return m(t.dynasty||"Unknown")}).style("opacity",.25).on("mousemove",I).on("mouseover",function(t,n){Be(this).style("opacity",.35),j(t,n)}).on("mouseout",function(){Be(this).style("opacity",.25),U()});P.append("g").attr("class","bar-label").selectAll("text").data(e).enter().append("text").text(t=>t.name).attr("text-anchor","start").attr("y",function(t){return N(t.name)-3}).attr("x","2").attr("dy","1em").attr("font-size","0.9em").style("fill","black").on("mousemove",I).on("mouseover",function(t,n){const e=z.filter(t=>t===n);e.empty()||e.style("opacity",.25),j(t,n)}).on("mouseout",function(t,n){const e=z.filter(t=>t===n);e.empty()||e.style("opacity",.15),U()});const F={Assassination:"",Suicide:"","Natural Causes":"","Died in Battle":"",Execution:"",Captivity:"",Unknown:""};if(P.append("g").attr("class","cause-icons").selectAll("text").data(e).enter().append("text").text(t=>F[t.cause]||"").attr("x",-14).attr("y",function(t){return N(t.name)+8}).attr("font-size","11px").attr("text-anchor","middle"),!l){!function(t,n,e,r,i,a){void 0===a&&(a={});const o=e+40,u=o+22,s=a.fontSize||"0.78em",l=a.rowStep||12;n.append("g").attr("class","axis").append("text").attr("x",o).attr("y",6).attr("dy","0.32em").attr("fill","#000").attr("font-weight","bold").attr("text-anchor","start").text("Life Segments");const c={"Pre Emperor":"Pre-Emperor",Emperor:"Reign","Post Emperor":"Post-Emperor"};let h=n.append("g").attr("font-family","sans-serif").attr("font-size",s).attr("text-anchor","start").selectAll("g").data(r.slice()).enter().append("g").attr("transform",function(t,n){return"translate(0,"+n*l+")"});h.append("rect").attr("x",o).attr("y",20).attr("width",9).attr("height",9).attr("fill",t),h.append("text").attr("x",u).attr("y",19.5).attr("dy","0.8em").text(function(t){return c[t]||t})}(y,P,M,v,0,{fontSize:"0.78em",rowStep:12});let t=d.slice();const n=function(t,n,e,r,i,a){void 0===a&&(a={});const o=a.baseY||90,u=a.rowStep||16,s=a.fontSize||"0.78em";let l=o+r.length*u+35;const c=e+40,h=c+22;n.append("g").attr("class","axis").append("text").attr("x",c).attr("y",o).attr("dy","0.32em").attr("fill","#000").attr("font-weight","bold").attr("text-anchor","start").text("Dynasty (background)");let f=n.append("g").attr("font-family","sans-serif").attr("font-size",s).attr("text-anchor","start").selectAll("g").data(r.slice()).enter().append("g").attr("transform",function(t,n){return"translate(0,"+(o+n*u)+")"});return f.append("rect").attr("x",c).attr("y",20).attr("width",9).attr("height",9).attr("fill",t),f.append("text").attr("x",h).attr("y",17).attr("dy","0.8em").text(function(t){return t}),l}(m,P,M,t,0,{fontSize:"0.78em",rowStep:16,baseY:90});Za().range(h);!function(t,n,e,r,i,a,o,u){void 0===o&&(o=100),void 0===u&&(u={});let s=o;const l=e+40,c=l+22,h=u.fontSize||"0.78em",f=u.rowStep||16;n.append("g").attr("class","axis").append("text").attr("x",l).attr("y",s).attr("dy","0.32em").attr("fill","#000").attr("font-weight","bold").attr("text-anchor","start").text("Cause of Death");const p={Assassination:"",Suicide:"","Natural Causes":"","Died in Battle":"",Execution:"",Captivity:"",Unknown:""};let d=n.append("g").attr("font-family","sans-serif").attr("font-size",h).attr("text-anchor","start").selectAll("g").data(i.slice()).enter().append("g").attr("transform",function(t,n){return"translate(0,"+(s+36+n*f)+")"});d.append("text").attr("x",l).attr("y",-6).attr("dy","0.8em").attr("text-anchor","start").text(function(t){return p[t]||""}),d.append("text").attr("x",c).attr("y",-6).attr("dy","0.8em").text(function(t){return t})}(0,P,M,0,u,0,n,{fontSize:"0.78em",rowStep:16})}}(),()=>{s.current&&Be(s.current).selectAll("*").remove()}),[n,i,t.data]);const h={"Pre Emperor":"Pre-Emperor",Emperor:"Reign","Post Emperor":"Post-Emperor"},f={Assassination:"",Suicide:"","Natural Causes":"","Died in Battle":"",Execution:"",Captivity:"",Unknown:""},p=new Map;t.data.forEach(t=>{const n=t.dynasty||"Unknown",e=(t=>{const n=t.reign_start||t.birth,e=t.reign_end||t.death;if(!n||!e)return null;const r=parseInt(n.split("-")[0],10),i=parseInt(e.split("-")[0],10);if(Number.isNaN(r)||Number.isNaN(i))return null;const a=r>i?-(r-1):r,o=new Date(Date.UTC(0,0,1));return o.setUTCFullYear(a),o})(t);if(!e)return;const r=p.get(n);(!r||e<r)&&p.set(n,e)});const d=(0,a.A)(new Set(t.data.map(t=>t.dynasty||"Unknown"))).sort((t,n)=>{const e=p.get(t),r=p.get(n);return e&&r?e-r:e?-1:r?1:t.localeCompare(n)});let m=["Pre Emperor","Emperor","Post Emperor"];return"reign_length"===n&&(m=["Emperor"]),r.createElement("div",null,r.createElement("div",{style:{padding:"20px",backgroundColor:"#f5f5f5"}},r.createElement("div",{style:{marginBottom:"15px"}},r.createElement("label",{style:{fontWeight:"bold",marginRight:"10px"}},"Metric:"),r.createElement("button",{onClick:()=>e("chronological"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:"chronological"===n?"#800080":"#ddd",color:"chronological"===n?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"chronological"===n?"bold":"normal"}},"Full Timeline"),r.createElement("button",{onClick:()=>e("reign_length"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:"reign_length"===n?"#800080":"#ddd",color:"reign_length"===n?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"reign_length"===n?"bold":"normal"}},"Reign Length Only"),r.createElement("button",{onClick:()=>e("age"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:"age"===n?"#800080":"#ddd",color:"age"===n?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"age"===n?"bold":"normal"}},"Age at Death")),r.createElement("div",null,r.createElement("label",{style:{fontWeight:"bold",marginRight:"10px"}},"Filter by Dynasty:"),r.createElement("button",{onClick:()=>u("all"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:"all"===i?"#800080":"#ddd",color:"all"===i?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"all"===i?"bold":"normal"}},"All Dynasties"),["Julio-Claudian","Flavian","Nerva-Antonine","Severan","Gordian","Constantinian","Valentinian","Theodosian"].map(t=>r.createElement("button",{key:t,onClick:()=>u(t),style:{padding:"8px 16px",marginRight:"8px",marginTop:"8px",backgroundColor:i===t?Ul[t]:"#ddd",color:i===t?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:i===t?"bold":"normal"}},t)))),r.createElement("div",{id:"chart",ref:s,style:{position:"relative",maxHeight:"70vh",overflowY:"auto"}}),l&&r.createElement("div",{style:{padding:"12px 20px 0 20px"}},r.createElement("div",{style:{fontWeight:"bold",marginBottom:"6px"}},"Life Segments"),m.map(t=>r.createElement("div",{key:t,style:{display:"flex",gap:"8px"}},r.createElement("span",{style:{width:"12px",height:"12px",background:"Pre Emperor"===t?"#38b3fa":"Emperor"===t?"#800080":"#748091",display:"inline-block"}}),r.createElement("span",null,h[t]))),r.createElement("div",{style:{fontWeight:"bold",margin:"10px 0 6px"}},"Dynasty (background)"),d.map(t=>r.createElement("div",{key:t,style:{display:"flex",gap:"8px"}},r.createElement("span",{style:{width:"12px",height:"12px",background:Ul[t]||Ul.Unknown,display:"inline-block"}}),r.createElement("span",null,t))),r.createElement("div",{style:{fontWeight:"bold",margin:"10px 0 6px"}},"Cause of Death"),Object.keys(Il).map(t=>r.createElement("div",{key:t,style:{display:"flex",gap:"8px"}},r.createElement("span",null,f[t]||""),r.createElement("span",null,t)))))};var Fl=t=>{const n=(0,r.useRef)(null);function e(t,n){if(void 0===n&&(n=null),!t)return null;const[e,r,i]=t.split("-");if(!e)return null;const a=parseInt(e,10),o=null!==n?n:a,u=(parseInt(r||"1",10)||1)-1,s=parseInt(i||"1",10)||1,l=new Date(Date.UTC(0,u,s));return l.setUTCFullYear(o),l}function i(t){if(!t)return"Unknown";const n=t.getUTCFullYear();return n<=0?Math.abs(n-1)+" BCE":n+" CE"}return(0,r.useEffect)(()=>(function(){if(!n.current)return;const r=Be(n.current);r.selectAll("*").remove();const a=(t.data||[]).map(t=>{const n=t.reign_start||t.birth,r=t.reign_end||t.death;if(!n||!r)return null;const i=parseInt(n.split("-")[0],10),a=parseInt(r.split("-")[0],10);let o=null,u=null;if(!Number.isNaN(i)&&!Number.isNaN(a))if(i>a){o=e(n,-(i-1)),u=e(r,a)}else o=e(n,i),u=e(r,a);return o&&u?Object.assign({},t,{start:o,end:u}):null}).filter(Boolean).sort((t,n)=>t.start-n.start);if(!a.length)return;const s={top:20,right:20,bottom:40,left:30},l=14,c=[];a.forEach(t=>{let n=c.findIndex(n=>n<=t.start);-1===n?(n=c.length,c.push(t.end)):c[n]=t.end,t.lane=n});const h=Math.max(260,c.length*l+40),f="undefined"!=typeof window&&window.innerWidth<640;let p=n.current.clientWidth-s.left-s.right;p>1440&&(p-=p-1e3);const d=f?p+s.left+s.right:Math.max(500,p+s.left+s.right),m=h+s.top+s.bottom,y=r.append("div").style("position","absolute").style("padding","10px 14px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","4px").style("pointer-events","none").style("font-size","16px").style("line-height","1.35").style("max-width","320px").style("z-index","1000").style("opacity",0).style("transition","opacity 0.3s"),v=r.append("svg").attr("viewBox","0 0 "+d+" "+m).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate("+s.left+","+s.top+")"),x=function(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}(a,t=>t.start),b=o(a,t=>t.end),_=ul().domain([x,b]).range([0,p]),w=Qa().domain(u(c.length)).range([0,h]).padding(.2),E=e("0069-01-01",69),M=e("0069-12-31",69);v.append("rect").attr("x",_(E)).attr("y",0).attr("width",Math.max(2,_(M)-_(E))).attr("height",h).attr("fill","#f4d03f").attr("opacity",.18),v.append("text").attr("x",_(E)+4).attr("y",12).attr("fill","#7a5d00").attr("font-size","12px").attr("font-weight",600).text("69 CE"),v.append("g").attr("class","axis").attr("transform","translate(0,"+h+")").call(g(_).tickFormat(t=>i(t)).ticks(f?6:10).tickSize(-h)).selectAll("text").style("font-size",f?"11px":"12px");const A=t=>{const n=r.node(),e=y.node();if(!n||!e)return;const i=n.getBoundingClientRect(),a=e.getBoundingClientRect();let o=t.clientX-i.left+12,u=t.clientY-i.top+12;o=Math.max(8,Math.min(o,i.width-a.width-8)),u=Math.max(8,Math.min(u,i.height-a.height-8)),y.style("left",o+"px").style("top",u+"px")};v.append("g").selectAll("rect").data(u(c.length)).enter().append("rect").attr("x",0).attr("y",t=>w(t)).attr("width",p).attr("height",w.bandwidth()).attr("fill",t=>t%2==0?"#f7f7f7":"#ffffff").attr("opacity",.6);let C=null;const k=(t,n)=>{C&&(clearTimeout(C),C=null),y.transition().duration(150).style("opacity",1);const e=n.image?'<img src="'+n.image+'" alt="'+n.name+'" style="width:64px;height:64px;object-fit:cover;border-radius:4px;flex:0 0 auto;" />':"",r="<strong>"+n.name+"</strong><br/>Dynasty: "+(n.dynasty||"Unknown")+"<br/>Reign: "+i(n.start)+"  "+i(n.end)+"<br/>Cause of death: "+n.cause;y.html('<div style="display:flex;gap:10px;align-items:center;">'+e+'<div style="min-width:0;">'+r+"</div></div>"),A(t)},P=()=>{y.transition().duration(150).style("opacity",0)};v.append("g").selectAll("rect").data(a).enter().append("rect").attr("x",t=>_(t.start)).attr("y",t=>w(t.lane)).attr("width",t=>Math.max(1,_(t.end)-_(t.start))).attr("height",w.bandwidth()).attr("fill",t=>Ul[t.dynasty]||"#6bbbf2").attr("opacity",.85).attr("stroke","#1f1f1f").attr("stroke-width",.4).on("mouseover",function(t,n){Be(this).attr("stroke-width",1.2),k(t,n)}).on("mousemove",function(t){A(t)}).on("mouseout",function(){Be(this).attr("stroke-width",.4),P()}).on("touchstart",function(t,n){t.preventDefault(),k(t,n),C=setTimeout(()=>P(),2e3)}).on("click",function(t,n){k(t,n),C=setTimeout(()=>P(),2e3)});v.append("g").selectAll("text").data(a.filter(t=>_(t.end)-_(t.start)>60)).enter().append("text").attr("x",t=>_(t.start)+4).attr("y",t=>w(t.lane)+w.bandwidth()/2+4).attr("fill","#111").attr("font-size","11px").attr("font-weight",600).attr("pointer-events","none").text(t=>t.name)}(),()=>{n.current&&Be(n.current).selectAll("*").remove()}),[t.data]),r.createElement("div",{style:{marginTop:"30px"}},r.createElement("div",{style:{padding:"0 20px 10px 20px"}},r.createElement("h2",{style:{margin:0}},"Crisis Timeline"),r.createElement("p",{style:{margin:"6px 0 0 0"}},"Overlapping reigns reveal instability during succession crises.")),r.createElement("div",{id:"crisis_timeline",ref:n,style:{position:"relative",maxHeight:"70vh",overflowY:"auto"}}))};var Bl=t=>{const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>(function(){if(!n.current)return;const e=Be(n.current);e.selectAll("*").remove();const r=(t.data||[]).filter(t=>"Emperor"in t);if(!r.length)return;const i=r.map(t=>({name:t.name,dynasty:t.dynasty||"Unknown",age:t["Pre Emperor"]+t.Emperor+(t["Post Emperor"]||0),cause:t.cause,image:t.image||null})).filter(t=>Number.isFinite(t.age)),a=Array.from(new Set(i.map(t=>t.dynasty))).sort(),u="undefined"!=typeof window&&window.innerWidth<640,s={top:20,right:20,bottom:40,left:u?90:140};let l=n.current.clientWidth-s.left-s.right;l>1440&&(l-=l-1e3);const c=Math.max(260,28*a.length),h=u?Math.max(900,l+s.left+s.right):Math.max(600,l+s.left+s.right),f=c+s.top+s.bottom,p=e.append("svg").attr("viewBox","0 0 "+h+" "+f).attr("preserveAspectRatio","xMinYMin meet").attr("width",u?h:null),d=p.append("g").attr("transform","translate("+s.left+","+s.top+")"),m=$o().domain([0,o(i,t=>t.age)||0]).nice().range([0,l]),v=Qa().domain(a).range([0,c]).padding(.4);d.append("g").attr("class","axis").attr("transform","translate(0,"+c+")").call(g(m).tickFormat(t=>t+" yrs").tickSize(-c)),d.append("g").attr("class","axis").call(y(v));const x=e.append("div").style("position","absolute").style("padding","10px 14px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","4px").style("pointer-events","none").style("font-size","16px").style("line-height","1.35").style("max-width","320px").style("z-index","1000").style("opacity",0).style("transition","opacity 0.3s"),b=t=>{const n=e.node(),r=x.node();if(!n||!r)return;const i=n.getBoundingClientRect(),a=r.getBoundingClientRect();let o=t.clientX-i.left+12,u=t.clientY-i.top+12;o=Math.max(8,Math.min(o,i.width-a.width-8)),u=Math.max(8,Math.min(u,i.height-a.height-8)),x.style("left",o+"px").style("top",u+"px")},_=vr(i).force("x",xr(t=>m(t.age)).strength(1)).force("y",br(t=>v(t.dynasty)+v.bandwidth()/2).strength(.8)).force("collide",hr(6)).stop();for(let t=0;t<200;t+=1)_.tick();let w=null;const E=t=>{d.selectAll("circle").attr("opacity",n=>t&&n.dynasty===t?1:t?.15:.9).attr("stroke-width",n=>t&&n.dynasty===t?1.2:.3)};let M=null;const A=(t,n)=>{M&&(clearTimeout(M),M=null),x.transition().duration(150).style("opacity",1);const e=n.image?'<img src="'+n.image+'" alt="'+n.name+'" style="width:64px;height:64px;object-fit:cover;border-radius:4px;flex:0 0 auto;" />':"",r="<strong>"+n.name+"</strong><br/>Dynasty: "+n.dynasty+"<br/>Age at death: "+n.age+" years<br/>Cause of death: "+n.cause;x.html('<div style="display:flex;gap:10px;align-items:center;">'+e+'<div style="min-width:0;">'+r+"</div></div>"),b(t)},C=()=>{x.transition().duration(150).style("opacity",0)};d.append("g").selectAll("circle").data(i).enter().append("circle").attr("cx",t=>t.x).attr("cy",t=>t.y).attr("r",5).attr("fill",t=>Ul[t.dynasty]||Ul.Unknown||"#6bbbf2").attr("opacity",.9).attr("stroke","#1f1f1f").attr("stroke-width",.3).attr("data-dynasty",t=>t.dynasty).on("mouseover",function(t,n){E(w||n.dynasty),A(t,n)}).on("mousemove",function(t){b(t)}).on("mouseout",function(){E(w),C()}).on("click",function(t,n){t.stopPropagation(),w=w===n.dynasty?null:n.dynasty,E(w)}).on("touchstart",function(t,n){t.preventDefault(),A(t,n),M=setTimeout(()=>C(),2e3)});p.on("click",function(){w=null,E(w)})}(),()=>{n.current&&Be(n.current).selectAll("*").remove()}),[t.data]),r.createElement("div",{style:{marginTop:"30px"}},r.createElement("div",{style:{padding:"0 20px 10px 20px"}},r.createElement("h2",{style:{margin:0}},"Age Distribution"),r.createElement("p",{style:{margin:"6px 0 0 0"}},"Each emperor is a dot placed by age at death, grouped by dynasty.")),r.createElement("div",{id:"age_distribution",ref:n,style:{position:"relative",maxHeight:"70vh",overflowY:"auto",overflowX:"auto"}}))};var Gl=t=>{const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>(async function(){if(!n.current)return;const e=Be(n.current);e.selectAll("*").remove();const r=(t.data||[]).filter(t=>Number.isFinite(t.birth_lat)&&Number.isFinite(t.birth_lng)).map(t=>({name:t.name,city:t.birth_city||t.birth_cty||"",dynasty:t.dynasty||"Unknown",cause:t.cause,age:t["Pre Emperor"]+t.Emperor+(t["Post Emperor"]||0),image:t.image||null,lat:t.birth_lat,lng:t.birth_lng}));if(!r.length)return;const i={top:20,right:20,bottom:20,left:20};let a=n.current.clientWidth-i.left-i.right;a>1440&&(a-=a-1e3);const o=420,u=Math.max(600,a+i.left+i.right),s=o+i.top+i.bottom,l=e.append("svg").attr("viewBox","0 0 "+u+" "+s).attr("preserveAspectRatio","xMinYMin meet"),c=l.append("g").attr("transform","translate("+i.left+","+i.top+")"),h=Ya(),f={type:"FeatureCollection",features:r.map(t=>({type:"Feature",geometry:{type:"Point",coordinates:[t.lng,t.lat]},properties:{}}))};h.fitExtent([[20,20],[a-20,o-20]],f);const p=function(t,n){let e,r,i=3,a=4.5;function o(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),Jr(t,e(r))),r.result()}return o.area=function(t){return Jr(t,e(li)),li.result()},o.measure=function(t){return Jr(t,e(Wi)),Wi.result()},o.bounds=function(t){return Jr(t,e(xi)),xi.result()},o.centroid=function(t){return Jr(t,e(Gi)),Gi.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Vr):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new na(i)):new Oi(n=t),"function"!=typeof a&&r.pointRadius(a),o):n},o.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),o):a},o.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new na(i)),o},o.projection(t).digits(i).context(n)}().projection(h),d=Yr().step([10,10]);let m=null;try{m=await function(t,n){return fetch(t,n).then(Qe)}("/world-110m.geojson")}catch(x){m=null}c.append("path").datum({type:"Sphere"}).attr("d",p).attr("fill","#f8f8f8").attr("stroke","#cfcfcf").attr("stroke-width",.8),m&&c.append("g").selectAll("path").data(m.features||[]).enter().append("path").attr("d",p).attr("fill","#f1efe9").attr("stroke","#c7c2b8").attr("stroke-width",.6);c.append("path").datum(d()).attr("d",p).attr("fill","none").attr("stroke","#e0e0e0").attr("stroke-width",.6);const g=e.append("div").style("position","absolute").style("padding","10px 14px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","4px").style("pointer-events","none").style("font-size","14px").style("line-height","1.35").style("max-width","320px").style("z-index","1000").style("opacity",0).style("transition","opacity 0.2s"),y=t=>{const n=e.node(),r=g.node();if(!n||!r)return;const i=n.getBoundingClientRect(),a=r.getBoundingClientRect();let o=t.clientX-i.left+12,u=t.clientY-i.top+12;o=Math.max(8,Math.min(o,i.width-a.width-8)),u=Math.max(8,Math.min(u,i.height-a.height-8)),g.style("left",o+"px").style("top",u+"px")};c.append("g").selectAll("circle").data(r).enter().append("circle").attr("cx",t=>h([t.lng,t.lat])[0]).attr("cy",t=>h([t.lng,t.lat])[1]).attr("r",2).attr("fill","#7a2b2b").attr("opacity",.5).on("mouseover",function(t,n){Be(this).attr("r",3.5).attr("opacity",.9);const e=n.image?'<img src="'+n.image+'" alt="'+n.name+'" style="width:48px;height:48px;object-fit:cover;border-radius:4px;flex:0 0 auto;" />':"",r="<strong>"+n.name+"</strong><br/>Birthplace: "+(n.city||"Unknown")+"<br/>Dynasty: "+n.dynasty+"<br/>Age at death: "+n.age+" years<br/>Cause of death: "+n.cause;g.style("opacity",1).html('<div style="display:flex;gap:10px;align-items:center;">'+e+'<div style="min-width:0;">'+r+"</div></div>"),y(t)}).on("mousemove",function(t){y(t)}).on("mouseout",function(){Be(this).attr("r",2).attr("opacity",.5),g.style("opacity",0)});const v=function(){var t,n,e,r=Pl,i=Sl,a=jl,o=Tl,u=Dl,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=_l,f=Bt("start","zoom","end"),p=0,d=10;function m(t){t.property("__zoom",Nl).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",M).filter(u).on("touchstart.zoom",A).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,n){return(n=Math.max(s[0],Math.min(s[1],n)))===t.k?t:new Ml(n,t.x,t.y)}function y(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Ml(t.k,r,i)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,n,e,r){t.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var t=this,a=arguments,o=b(t,a).event(r),u=i.apply(t,a),s=null==e?v(u):"function"==typeof e?e.apply(t,a):e,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=t.__zoom,f="function"==typeof n?n.apply(t,a):n,p=h(c.invert(s).concat(l/c.k),f.invert(s).concat(l/f.k));return function(t){if(1===t)t=f;else{var n=p(t),e=l/n[2];t=new Ml(e,s[0]-n[0]*e,s[1]-n[1]*e)}o.zoom(null,t)}})}function b(t,n,e){return!e&&t.__zooming||new _(t,n)}function _(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function w(t,...n){if(r.apply(this,arguments)){var e=b(this,n).event(t),i=this.__zoom,u=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,o.apply(this,arguments)))),c=Ge(t);if(e.wheel)e.mouse[0][0]===c[0]&&e.mouse[0][1]===c[1]||(e.mouse[1]=i.invert(e.mouse[0]=c)),clearTimeout(e.wheel);else{if(i.k===u)return;e.mouse=[c,i.invert(c)],sn(this),e.start()}kl(t),e.wheel=setTimeout(function(){e.wheel=null,e.end()},150),e.zoom("mouse",a(y(g(i,u),e.mouse[0],e.mouse[1]),e.extent,l))}}function E(t,...n){if(!e&&r.apply(this,arguments)){var i=t.currentTarget,o=b(this,n,!0).event(t),u=Be(t.view).on("mousemove.zoom",function(t){if(kl(t),!o.moved){var n=t.clientX-c,e=t.clientY-h;o.moved=n*n+e*e>p}o.event(t).zoom("mouse",a(y(o.that.__zoom,o.mouse[0]=Ge(t,i),o.mouse[1]),o.extent,l))},!0).on("mouseup.zoom",function(t){u.on("mousemove.zoom mouseup.zoom",null),$e(t.view,o.moved),kl(t),o.event(t).end()},!0),s=Ge(t,i),c=t.clientX,h=t.clientY;He(t.view),Cl(t),o.mouse=[s,this.__zoom.invert(s)],sn(this),o.start()}}function M(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,o=Ge(t.changedTouches?t.changedTouches[0]:t,this),u=e.invert(o),s=e.k*(t.shiftKey?.5:2),h=a(y(g(e,s),o,u),i.apply(this,n),l);kl(t),c>0?Be(this).transition().duration(c).call(x,h,o,t):Be(this).call(m.transform,h,o,t)}}function A(e,...i){if(r.apply(this,arguments)){var a,o,u,s,l=e.touches,c=l.length,h=b(this,i,e.changedTouches.length===c).event(e);for(Cl(e),o=0;o<c;++o)s=[s=Ge(u=l[o],this),this.__zoom.invert(s),u.identifier],h.touch0?h.touch1||h.touch0[2]===s[2]||(h.touch1=s,h.taps=0):(h.touch0=s,a=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),a&&(h.taps<2&&(n=s[0],t=setTimeout(function(){t=null},500)),sn(this),h.start())}}function C(t,...n){if(this.__zooming){var e,r,i,o,u=b(this,n).event(t),s=t.changedTouches,c=s.length;for(kl(t),e=0;e<c;++e)i=Ge(r=s[e],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var h=u.touch0[0],f=u.touch0[1],p=u.touch1[0],d=u.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v;r=g(r,Math.sqrt(m/v)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],o=u.touch0[1]}u.zoom("touch",a(y(r,i,o),u.extent,l))}}function k(t,...r){if(this.__zooming){var i,a,o=b(this,r).event(t),u=t.changedTouches,s=u.length;for(Cl(t),e&&clearTimeout(e),e=setTimeout(function(){e=null},500),i=0;i<s;++i)a=u[i],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=Ge(a,this),Math.hypot(n[0]-a[0],n[1]-a[1])<d)){var l=Be(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return m.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",Nl),t!==i?x(t,n,e,r):i.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},m.scaleBy=function(t,n,e,r){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)},e,r)},m.scaleTo=function(t,n,e,r){m.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,o=null==e?v(t):"function"==typeof e?e.apply(this,arguments):e,u=r.invert(o),s="function"==typeof n?n.apply(this,arguments):n;return a(y(g(r,s),o,u),t,l)},e,r)},m.translateBy=function(t,n,e,r){m.transform(t,function(){return a(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),l)},null,r)},m.translateTo=function(t,n,e,r,o){m.transform(t,function(){var t=i.apply(this,arguments),o=this.__zoom,u=null==r?v(t):"function"==typeof r?r.apply(this,arguments):r;return a(Al.translate(u[0],u[1]).scale(o.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,l)},r,o)},_.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Be(this.that).datum();f.call(t,this.that,new El(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:f}),n)}},m.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:wl(+t),m):o},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:wl(!!t),m):r},m.touchable=function(t){return arguments.length?(u="function"==typeof t?t:wl(!!t),m):u},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:wl([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(a=t,m):a},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,m):Math.sqrt(p)},m.tapDistance=function(t){return arguments.length?(d=+t,m):d},m}().scaleExtent([1,6]).on("zoom",t=>{c.attr("transform",t.transform)});l.call(v)}(),()=>{n.current&&Be(n.current).selectAll("*").remove()}),[t.data]),r.createElement("div",{style:{marginTop:"30px"}},r.createElement("div",{style:{padding:"0 20px 10px 20px"}},r.createElement("h2",{style:{margin:0}},"Birthplace Map"),r.createElement("p",{style:{margin:"6px 0 0 0"}},"Dots represent approximate locations of emperor birthplaces.")),r.createElement("div",{id:"birthplace_map",ref:n,style:{position:"relative"}}))};var Ol=t=>{const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>(function(){if(!n.current)return;const e=Be(n.current);e.selectAll("*").remove();const r=(t.data||[]).filter(t=>t.rise&&t.cause);if(!r.length)return;const i=["Natural Causes","Assassination","Execution","Suicide","Died in Battle","Captivity","Unknown"],a=["Birthright","Appointment by Emperor","Appointment by Senate","Appointment by Praetorian Guard","Appointment by Army","Election","Purchase","Seized Power"].filter(t=>r.some(n=>n.rise===t)),u=i.filter(t=>r.some(n=>n.cause===t)),s=new Map;r.forEach(t=>{const n=t.rise+"||"+t.cause;s.set(n,(s.get(n)||0)+1)});const l=[];a.forEach(t=>{u.forEach(n=>{const e=t+"||"+n;l.push({rise:t,cause:n,count:s.get(e)||0})})});const c=o(l,t=>t.count)||1,h="undefined"!=typeof window&&window.innerWidth<640,f={top:20,right:20,bottom:50,left:h?120:220};let p=n.current.clientWidth-f.left-f.right;p>1440&&(p-=p-1e3);const d=26,m=Math.max(220,a.length*d),v=h?Math.max(900,p+f.left+f.right):Math.max(700,p+f.left+f.right),x=m+f.top+f.bottom,b=e.append("svg").attr("viewBox","0 0 "+v+" "+x).attr("preserveAspectRatio","xMinYMin meet").attr("width",h?v:null).append("g").attr("transform","translate("+f.left+","+f.top+")"),_=Qa().domain(u).range([0,p]).padding(.08),w=Qa().domain(a).range([0,m]).padding(.08),E=cl(pl).domain([0,c]);b.append("g").attr("class","axis").call(y(w)),b.append("g").attr("class","axis").attr("transform","translate(0,"+m+")").call(g(_)).selectAll("text").attr("transform","rotate(-25)").style("text-anchor","end");const M=e.append("div").style("position","absolute").style("padding","10px 14px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","4px").style("pointer-events","none").style("font-size","14px").style("line-height","1.35").style("max-width","320px").style("z-index","1000").style("opacity",0).style("transition","opacity 0.2s"),A=t=>{const n=e.node(),r=M.node();if(!n||!r)return;const i=n.getBoundingClientRect(),a=r.getBoundingClientRect();let o=t.clientX-i.left+12,u=t.clientY-i.top+12;o=Math.max(8,Math.min(o,i.width-a.width-8)),u=Math.max(8,Math.min(u,i.height-a.height-8)),M.style("left",o+"px").style("top",u+"px")};let C=null;const k=(t,n)=>{C&&(clearTimeout(C),C=null),M.style("opacity",1).html("<strong>"+n.rise+"</strong>  <strong>"+n.cause+"</strong><br/>"+n.count+" emperors"),A(t)},P=()=>{M.style("opacity",0)};b.append("g").selectAll("rect").data(l).enter().append("rect").attr("x",t=>_(t.cause)).attr("y",t=>w(t.rise)).attr("width",_.bandwidth()).attr("height",w.bandwidth()).attr("fill",t=>E(t.count)).attr("stroke","#ffffff").attr("stroke-width",1).on("mouseover",function(t,n){k(t,n)}).on("mousemove",function(t){A(t)}).on("mouseout",function(){P()}).on("touchstart",function(t,n){t.preventDefault(),k(t,n),C=setTimeout(()=>P(),2e3)}),b.append("g").selectAll("text").data(l.filter(t=>t.count>0)).enter().append("text").attr("x",t=>_(t.cause)+_.bandwidth()/2).attr("y",t=>w(t.rise)+w.bandwidth()/2+4).attr("text-anchor","middle").attr("font-size","11px").attr("fill",t=>t.count>.5*c?"#fff":"#222").text(t=>t.count)}(),()=>{n.current&&Be(n.current).selectAll("*").remove()}),[t.data]),r.createElement("div",{style:{marginTop:"30px"}},r.createElement("div",{style:{padding:"0 20px 10px 20px"}},r.createElement("h2",{style:{margin:0}},"Career Matrix"),r.createElement("p",{style:{margin:"6px 0 0 0"}},"Rise to power vs. cause of death. Darker cells mean more emperors.")),r.createElement("div",{ref:n,style:{position:"relative",overflowX:"auto"}}))},Rl=JSON.parse('{"Augustus":"Wife","Tiberius":"Other Emperor","Caligula":"Senate","Claudius":"Wife","Nero":"Senate","Galba":"Other Emperor","Otho":"Other Emperor","Vitellius":"Other Emperor","Vespasian":"Disease","Titus":"Disease","Domitian":"Court Officials","Nerva":"Disease","Trajan":"Disease","Hadrian":"Heart Failure","Antonius Pius":"Disease","Marcus Aurelius":"Disease","Lucius Verus":"Disease","Commodus":"Praetorian Guard","Pertinax":"Praetorian Guard","Didius Julianus":"Senate","Septimus Severus":"Disease","Caracalla":"Other Emperor","Geta":"Other Emperor","Macrinus":"Other Emperor","Elagabalus":"Praetorian Guard","Severus Alexander":"Own Army","Maximinus I":"Praetorian Guard","Gordian I":"Other Emperor","Gordian II":"Other Emperor","Pupienus":"Praetorian Guard","Balbinus":"Praetorian Guard","Gordian III":"Opposing Army","Philip I":"Other Emperor","Trajan Decius":"Opposing Army","Hostilian":"Disease","Trebonianus Gallus":"Other Emperor","Aemilian":"Other Emperor","Valerian":"Opposing Army","Gallienus":"Own Army","Claudius Gothicus":"Disease","Quintillus":"Unknown","Aurelian":"Praetorian Guard","Tacitus":"Disease","Florian":"Own Army","Probus":"Own Army","Carus":"Lightning","Numerian":"Unknown","Carinus":"Opposing Army","Diocletian":"Disease","Maximian":"Other Emperor","Constantius I":"Unknown","Galerius":"Disease","Severus II":"Other Emperor","Constantine the Great":"Disease","Maxentius":"Other Emperor","Maximinus II":"Other Emperor","Licinius I":"Other Emperor","Constantine II":"Other Emperor","Consantius II":"Disease","Constans":"Usurper","Vetranio":"Unknown","Julian":"Opposing Army","Jovian":"Fumes","Valentinian I":"Aneurism","Valens":"Opposing Army","Gratian":"Own Army","Valentinian II":"Unknown","Theodosius I":"Disease"}');var Yl=t=>{const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>(function(){if(!n.current)return;const e=Be(n.current);e.selectAll("*").remove();const r=(t.data||[]).map(t=>Object.assign({},t,{killer:Rl[t.name]||t.killer||null})).filter(t=>t.killer);if(!r.length)return;const i=Array.from(new Set(r.map(t=>t.killer))),o=i.reduce((t,n)=>(t[n]=r.filter(t=>t.killer===n).length,t),{}),u={"Praetorian Guard":"","Other Emperor":"","Opposing Army":"","Own Army":"",Senate:"",Usurper:"","Court Officials":"",Wife:"",Disease:"","Heart Failure":"",Aneurism:"",Lightning:"",Fire:"",Fumes:"",Unknown:""},s=[].concat((0,a.A)(i.map(t=>({id:"killer:"+t,label:t,type:"killer",count:o[t]||1,icon:u[t]||""}))),(0,a.A)(r.map(t=>({id:"emp:"+t.name,label:t.name,type:"emperor",dynasty:t.dynasty||"Unknown",cause:t.cause,image:t.image||null})))),l=r.map(t=>({source:"emp:"+t.name,target:"killer:"+t.killer})),c={top:20,right:20,bottom:20,left:20};let h=n.current.clientWidth-c.left-c.right;h>1440&&(h-=h-1e3);(!h||h<300)&&(h=900);const f=520,p=Math.max(700,h+c.left+c.right),d=f+c.top+c.bottom,m=e.append("svg").attr("viewBox","0 0 "+p+" "+d).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate("+c.left+","+c.top+")"),g=e.append("div").style("position","absolute").style("padding","10px 14px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","4px").style("pointer-events","none").style("font-size","14px").style("line-height","1.35").style("max-width","320px").style("z-index","1000").style("opacity",0).style("transition","opacity 0.2s"),y=t=>{const n=e.node(),r=g.node();if(!n||!r)return;const i=n.getBoundingClientRect(),a=r.getBoundingClientRect();let o=t.clientX-i.left+12,u=t.clientY-i.top+12;o=Math.max(8,Math.min(o,i.width-a.width-8)),u=Math.max(8,Math.min(u,i.height-a.height-8)),g.style("left",o+"px").style("top",u+"px")},v=t=>14+Math.min(16,3*Math.sqrt(t.count||1)),x=Za().domain(i).range(fl),b=vr(s).force("link",function(t){var n,e,r,i,a,o,u=fr,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=ur(30),c=1;function h(r){for(var i=0,u=t.length;i<c;++i)for(var s,l,h,f,p,d,m,g=0;g<u;++g)l=(s=t[g]).source,f=(h=s.target).x+h.vx-l.x-l.vx||sr(o),p=h.y+h.vy-l.y-l.vy||sr(o),f*=d=((d=Math.sqrt(f*f+p*p))-e[g])/d*r*n[g],p*=d,h.vx-=f*(m=a[g]),h.vy-=p*m,l.vx+=f*(m=1-m),l.vy+=p*m}function f(){if(r){var o,s,l=r.length,c=t.length,h=new Map(r.map((t,n)=>[u(t,n,r),t]));for(o=0,i=new Array(l);o<c;++o)(s=t[o]).index=o,"object"!=typeof s.source&&(s.source=pr(h,s.source)),"object"!=typeof s.target&&(s.target=pr(h,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(c);o<c;++o)s=t[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(c),p(),e=new Array(c),d()}}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+s(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}return null==t&&(t=[]),h.initialize=function(t,n){r=t,o=n,f()},h.links=function(n){return arguments.length?(t=n,f(),h):t},h.id=function(t){return arguments.length?(u=t,h):u},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(s="function"==typeof t?t:ur(+t),p(),h):s},h.distance=function(t){return arguments.length?(l="function"==typeof t?t:ur(+t),d(),h):l},h}(l).id(t=>t.id).distance(70)).force("charge",function(){var t,n,e,r,i,a=ur(-30),o=1,u=1/0,s=.81;function l(e){var i,a=t.length,o=rr(t,mr,gr).visitAfter(h);for(r=e,i=0;i<a;++i)n=t[i],o.visit(f)}function c(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+a(e,n,t)}}function h(t){var n,e,r,a,o,u=0,s=0;if(t.length){for(r=a=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(u+=n.value,s+=e,r+=e*n.x,a+=e*n.y);t.x=r/s,t.y=a/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=i[n.data.index]}while(n=n.next)}t.value=u}function f(t,a,l,c){if(!t.value)return!0;var h=t.x-n.x,f=t.y-n.y,p=c-a,d=h*h+f*f;if(p*p/s<d)return d<u&&(0===h&&(d+=(h=sr(e))*h),0===f&&(d+=(f=sr(e))*f),d<o&&(d=Math.sqrt(o*d)),n.vx+=h*t.value*r/d,n.vy+=f*t.value*r/d),!0;if(!(t.length||d>=u)){(t.data!==n||t.next)&&(0===h&&(d+=(h=sr(e))*h),0===f&&(d+=(f=sr(e))*f),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(p=i[t.data.index]*r/d,n.vx+=h*p,n.vy+=f*p)}while(t=t.next)}}return l.initialize=function(n,r){t=n,e=r,c()},l.strength=function(t){return arguments.length?(a="function"==typeof t?t:ur(+t),c(),l):a},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l}().strength(-80)).force("center",function(t,n){var e,r=1;function i(){var i,a,o=e.length,u=0,s=0;for(i=0;i<o;++i)u+=(a=e[i]).x,s+=a.y;for(u=(u/o-t)*r,s=(s/o-n)*r,i=0;i<o;++i)(a=e[i]).x-=u,a.y-=s}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(h/2,f/2)).force("collide",hr(t=>"killer"===t.type?v(t)+6:10)).force("x",xr(h/2).strength(.07)).force("y",br(f/2).strength(.07)),_=m.append("g").attr("stroke","#bdbdbd").attr("stroke-opacity",.6).selectAll("line").data(l).enter().append("line").attr("stroke-width",1),w=m.append("g").selectAll("circle").data(s).enter().append("circle").attr("r",t=>"killer"===t.type?v(t):5).attr("fill",t=>"killer"===t.type?x(t.label):"#5aa0d8").attr("stroke",t=>"killer"===t.type?"#2f2118":"#2e5a7a").attr("stroke-width",t=>"killer"===t.type?1.4:.6).call(function(){var t,n,e,r,i=Xe,a=Je,o=We,u=Ze,s={},l=Bt("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",p).filter(u).on("touchstart.drag",g).on("touchmove.drag",y,Oe).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(o,u){if(!r&&i.call(this,o,u)){var s=x(this,a.call(this,o,u),o,u,"mouse");s&&(Be(o.view).on("mousemove.drag",d,Re).on("mouseup.drag",m,Re),He(o.view),Ye(o),e=!1,t=o.clientX,n=o.clientY,s("start",o))}}function d(r){if(Ve(r),!e){var i=r.clientX-t,a=r.clientY-n;e=i*i+a*a>h}s.mouse("drag",r)}function m(t){Be(t.view).on("mousemove.drag mouseup.drag",null),$e(t.view,e),Ve(t),s.mouse("end",t)}function g(t,n){if(i.call(this,t,n)){var e,r,o=t.changedTouches,u=a.call(this,t,n),s=o.length;for(e=0;e<s;++e)(r=x(this,u,t,n,o[e].identifier,o[e]))&&(Ye(t),r("start",t,o[e]))}}function y(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=s[r[n].identifier])&&(Ve(t),e("drag",t,r[n]))}function v(t){var n,e,i=t.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),n=0;n<a;++n)(e=s[i[n].identifier])&&(Ye(t),e("end",t,i[n]))}function x(t,n,e,r,i,a){var u,h,p,d=l.copy(),m=Ge(a||e,n);if(null!=(p=o.call(t,new qe("beforestart",{sourceEvent:e,target:f,identifier:i,active:c,x:m[0],y:m[1],dx:0,dy:0,dispatch:d}),r)))return u=p.x-m[0]||0,h=p.y-m[1]||0,function e(a,o,l){var g,y=m;switch(a){case"start":s[i]=e,g=c++;break;case"end":delete s[i],--c;case"drag":m=Ge(l||o,n),g=c}d.call(a,t,new qe(a,{sourceEvent:o,subject:p,target:f,identifier:i,active:g,x:m[0]+u,y:m[1]+h,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:d}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Le(!!t),f):i},f.container=function(t){return arguments.length?(a="function"==typeof t?t:Le(t),f):a},f.subject=function(t){return arguments.length?(o="function"==typeof t?t:Le(t),f):o},f.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Le(!!t),f):u},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}().on("start",(t,n)=>{t.active||b.alphaTarget(.3).restart(),n.fx=n.x,n.fy=n.y}).on("drag",(t,n)=>{n.fx=t.x,n.fy=t.y}).on("end",(t,n)=>{t.active||b.alphaTarget(0),n.fx=null,n.fy=null})).on("mouseover",function(t,n){if("killer"===n.type)g.style("opacity",1).html("<strong>"+n.label+"</strong><br/>Killer category");else{const t=n.image?'<img src="'+n.image+'" alt="'+n.label+'" style="width:48px;height:48px;object-fit:cover;border-radius:4px;flex:0 0 auto;" />':"";g.style("opacity",1).html('<div style="display:flex;gap:10px;align-items:center;">'+t+'<div style="min-width:0;"><strong>'+n.label+"</strong><br/>Dynasty: "+n.dynasty+"<br/>Cause: "+n.cause+"</div></div>")}y(t)}).on("mousemove",t=>{y(t)}).on("mouseout",()=>{g.style("opacity",0)}),E=m.append("g").selectAll("text").data(s.filter(t=>"killer"===t.type)).enter().append("text").attr("font-size","16px").attr("text-anchor","middle").text(t=>t.icon),M=m.append("g").selectAll("text").data(s.filter(t=>"killer"===t.type)).enter().append("text").attr("font-size","11px").attr("font-weight",600).attr("fill","#2c1c12").attr("text-anchor","middle").attr("paint-order","stroke").attr("stroke","rgba(255,255,255,0.9)").attr("stroke-width",3).text(t=>t.label);b.on("tick",()=>{const t=t=>Math.max(10,Math.min(h-10,t)),n=t=>Math.max(10,Math.min(f-10,t));_.attr("x1",n=>t(n.source.x)).attr("y1",t=>n(t.source.y)).attr("x2",n=>t(n.target.x)).attr("y2",t=>n(t.target.y)),w.attr("cx",n=>t(n.x)).attr("cy",t=>n(t.y)),E.attr("x",n=>t(n.x)).attr("y",t=>n(t.y+6)),M.attr("x",n=>t(n.x)).attr("y",t=>n(t.y+34))})}(),()=>{n.current&&Be(n.current).selectAll("*").remove()}),[t.data]),r.createElement("div",{style:{marginTop:"30px"}},r.createElement("div",{style:{padding:"0 20px 10px 20px"}},r.createElement("h2",{style:{margin:0}},"Web of Death"),r.createElement("p",{style:{margin:"6px 0 0 0"}},"A force-directed network of emperors and their killers.")),r.createElement("div",{ref:n,style:{position:"relative"}}))};let Vl=function(t){function n(){return t.apply(this,arguments)||this}return(0,i.A)(n,t),n.prototype.render=function(){return r.createElement("div",{className:"Header"},r.createElement("div",{className:"Heading"},"Roman Emperors' Ages"),r.createElement("div",null,"From Augustus to Romulus Augustulus"),r.createElement("div",null,"(63 BCE to 476 CE End of Western Empire)"))},n}(r.Component);var Hl=Vl;var $l=t=>{const{0:n,1:e}=(0,r.useState)(0),{0:i,1:a}=(0,r.useState)(0);(0,r.useEffect)(()=>{o()},[n,i]);const o=()=>{let n=t.data,r=[],i=[],o=0;for(let t in n){const e=Number(n[t].Emperor),a=Number(n[t]["Post Emperor"]);if("Pre Emperor"in n[t]){const r=Number(n[t]["Pre Emperor"]);i.push(r+e+a)}r.push(e),o++}r.sort((t,n)=>t-n),i.sort((t,n)=>t-n),o%2==0?(e((r[o/2-1]+r[o/2])/2),a((i[o/2-1]+i[o/2])/2)):(e(r[(o-1)/2]),a(i[(o-1)/2]))};return r.createElement("div",{className:"Header"},r.createElement("div",{className:"Heading"},"Extra Info"),r.createElement("div",{id:"median"},"Median Reign: ",n," years"),r.createElement("div",{id:"median"},"Median Age at death: ",i," years"),r.createElement("br",null),r.createElement("div",null,"Missing data for Numerian, Florian, Severus II, Vetranio, Carinus, Olybrius, Glycerius"),r.createElement("div",null,"Rounded up reigns shorter than 1 year"),r.createElement("div",null,"Data retrieved from ",r.createElement("a",{href:"https://github.com/zonination/emperors/"},"Zonination")," but I have made some small changes in line with Wikipedia"))};var Ll=function(){return r.createElement("div",{id:"footer",className:"text-align-centre",style:{color:"black"}},"Any queries/requests, contact me @",r.createElement("a",{href:"https://twitter.com/RMcElhinney"},"Rob McElhinney")," | Code Viewable @",r.createElement("a",{href:"https://github.com/robmcelhinney/emperor-age"},"github"))},ql=JSON.parse('[{"index":"54","name":"Constantine the Great","cause":"Natural Causes","Pre Emperor":34,"Emperor":30,"Post Emperor":0,"dynasty":"Constantinian","birth":"0272-02-27","death":"0337-05-22","reign_start":"0306-07-25","reign_end":"0337-05-22"},{"index":"38","name":"Valerian","cause":"Captivity","Pre Emperor":58,"Emperor":6,"Post Emperor":4,"dynasty":"Gordian","birth":"0195-01-01","death":"0264-01-01","reign_start":"0253-10-15","reign_end":"0260-01-01"},{"index":"40","name":"Claudius Gothicus","cause":"Natural Causes","Pre Emperor":55,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0213-05-10","death":"0270-01-15","reign_start":"0268-09-15","reign_end":"0270-01-15"},{"index":"41","name":"Quintillus","cause":"Unknown","Pre Emperor":58,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0212-01-01","death":"0270-04-15","reign_start":"0270-01-15","reign_end":"0270-04-15"},{"index":"62","name":"Julian","cause":"Died in Battle","Pre Emperor":28,"Emperor":3,"Post Emperor":0,"dynasty":"Constantinian","birth":"0331-07-01","death":"0363-06-26","reign_start":"0360-02-14","reign_end":"0363-06-26"},{"index":"68","name":"Theodosius I","cause":"Natural Causes","Pre Emperor":31,"Emperor":16,"Post Emperor":0,"dynasty":"Theodosian","birth":"0347-01-11","death":"0395-01-17","reign_start":"0379-01-01","reign_end":"0395-01-17"},{"index":"18","name":"Commodus","cause":"Assassination","Pre Emperor":15,"Emperor":15,"Post Emperor":0,"dynasty":"Nerva-Antonine","birth":"0161-08-31","death":"0192-12-31","reign_start":"0177-01-01","reign_end":"0192-12-31"},{"index":"28","name":"Gordian I","cause":"Suicide","Pre Emperor":79,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0159-01-01","death":"0238-04-12","reign_start":"0238-03-22","reign_end":"0238-04-12"},{"index":"29","name":"Gordian II","cause":"Execution","Pre Emperor":46,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0192-01-01","death":"0238-04-12","reign_start":"0238-03-22","reign_end":"0238-04-12"},{"index":"47","name":"Numerian","cause":"Unknown","Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"","death":"0284-11-20","reign_start":"0283-08-01","reign_end":"0284-11-20"},{"index":"2","name":"Tiberius","cause":"Assassination","Pre Emperor":55,"Emperor":22,"Post Emperor":0,"dynasty":"Julio-Claudian","birth":"0042-11-16","death":"0037-03-16","reign_start":"0014-09-18","reign_end":"0037-03-16"},{"index":"37","name":"Aemilian","cause":"Assassination","Pre Emperor":46,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0207-01-01","death":"0253-10-15","reign_start":"0253-08-15","reign_end":"0253-10-15"},{"index":"42","name":"Aurelian","cause":"Assassination","Pre Emperor":56,"Emperor":5,"Post Emperor":0,"dynasty":"Gordian","birth":"0214-09-09","death":"0275-09-15","reign_start":"0270-09-15","reign_end":"0275-09-15"},{"index":"44","name":"Florian","cause":"Assassination","Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"","death":"0276-09-15","reign_start":"0276-06-15","reign_end":"0276-09-15"},{"index":"11","name":"Domitian","cause":"Assassination","Pre Emperor":29,"Emperor":15,"Post Emperor":0,"dynasty":"Flavian","birth":"0051-10-24","death":"0096-09-18","reign_start":"0081-09-14","reign_end":"0096-09-18"},{"index":"12","name":"Nerva","cause":"Natural Causes","Pre Emperor":65,"Emperor":1,"Post Emperor":0,"dynasty":"Nerva-Antonine","birth":"0030-11-08","death":"0098-01-27","reign_start":"0096-09-18","reign_end":"0098-01-27"},{"index":"32","name":"Gordian III","cause":"Died in Battle","Pre Emperor":13,"Emperor":5,"Post Emperor":0,"dynasty":"Gordian","birth":"0225-01-20","death":"0244-02-11","reign_start":"0238-04-22","reign_end":"0244-02-11"},{"index":"46","name":"Carus","cause":"Natural Causes","Pre Emperor":52,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0230-01-01","death":"0283-08-01","reign_start":"0282-10-01","reign_end":"0283-08-01"},{"index":"53","name":"Severus II","cause":"Assassination","Emperor":2,"Post Emperor":0,"dynasty":"Constantinian","birth":"","death":"0307-09-16","reign_start":"0305-05-01","reign_end":"0307-09-16"},{"index":"59","name":"Consantius II","cause":"Natural Causes","Pre Emperor":19,"Emperor":24,"Post Emperor":0,"dynasty":"Constantinian","birth":"0317-08-07","death":"0361-11-03","reign_start":"0337-05-22","reign_end":"0361-11-03"},{"index":"3","name":"Caligula","cause":"Assassination","Pre Emperor":24,"Emperor":3,"Post Emperor":0,"dynasty":"Julio-Claudian","birth":"0012-08-31","death":"0041-01-24","reign_start":"0037-03-18","reign_end":"0041-01-24"},{"index":"4","name":"Claudius","cause":"Assassination","Pre Emperor":50,"Emperor":13,"Post Emperor":0,"dynasty":"Julio-Claudian","birth":"0010-08-01","death":"0054-10-13","reign_start":"0041-01-25","reign_end":"0054-10-13"},{"index":"16","name":"Marcus Aurelius","cause":"Natural Causes","Pre Emperor":39,"Emperor":19,"Post Emperor":0,"dynasty":"Nerva-Antonine","birth":"0121-04-26","death":"0180-03-17","reign_start":"0161-03-07","reign_end":"0180-03-17"},{"index":"49","name":"Diocletian","cause":"Natural Causes","Pre Emperor":39,"Emperor":20,"Post Emperor":6,"dynasty":"Constantinian","birth":"0244-12-22","death":"0311-12-03","reign_start":"0284-11-20","reign_end":"0305-05-01"},{"index":"21","name":"Septimus Severus","cause":"Natural Causes","Pre Emperor":47,"Emperor":17,"Post Emperor":0,"dynasty":"Severan","birth":"0145-04-11","death":"0211-02-04","reign_start":"0193-04-09","reign_end":"0211-02-04"},{"index":"31","name":"Balbinus","cause":"Assassination","Pre Emperor":60,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0178-01-01","death":"0238-07-29","reign_start":"0238-04-22","reign_end":"0238-07-29"},{"index":"55","name":"Maxentius","cause":"Execution","Pre Emperor":28,"Emperor":6,"Post Emperor":0,"dynasty":"Constantinian","birth":"0278-01-01","death":"0312-10-08","reign_start":"0306-10-08","reign_end":"0312-10-08"},{"index":"17","name":"Lucius Verus","cause":"Natural Causes","Pre Emperor":30,"Emperor":8,"Post Emperor":0,"dynasty":"Nerva-Antonine","birth":"0130-12-15","death":"0169-03-15","reign_start":"0161-03-07","reign_end":"0169-03-15"},{"index":"64","name":"Valentinian I","cause":"Natural Causes","Pre Emperor":42,"Emperor":11,"Post Emperor":0,"dynasty":"Valentinian","birth":"0321-07-03","death":"0375-11-17","reign_start":"0364-02-26","reign_end":"0375-11-17"},{"index":"8","name":"Vitellius","cause":"Assassination","Pre Emperor":53,"Emperor":1,"Post Emperor":0,"dynasty":"Flavian","birth":"0015-09-24","death":"0069-12-20","reign_start":"0069-04-17","reign_end":"0069-12-20"},{"index":"19","name":"Pertinax","cause":"Assassination","Pre Emperor":66,"Emperor":1,"Post Emperor":0,"dynasty":"Severan","birth":"0126-08-01","death":"0193-03-28","reign_start":"0193-01-01","reign_end":"0193-03-28"},{"index":"23","name":"Geta","cause":"Assassination","Pre Emperor":19,"Emperor":2,"Post Emperor":0,"dynasty":"Severan","birth":"0189-03-07","death":"0211-12-26","reign_start":"0209-01-01","reign_end":"0211-12-26"},{"index":"51","name":"Constantius I","cause":"Natural Causes","Pre Emperor":55,"Emperor":1,"Post Emperor":0,"dynasty":"Constantinian","birth":"0250-03-31","death":"0306-07-25","reign_start":"0305-05-01","reign_end":"0306-07-25"},{"index":"56","name":"Maximinus II","cause":"Execution","Pre Emperor":40,"Emperor":2,"Post Emperor":0,"dynasty":"Constantinian","birth":"0270-11-20","death":"0313-08-01","reign_start":"0311-05-01","reign_end":"0313-08-01"},{"index":"67","name":"Valentinian II","cause":"Suicide","Pre Emperor":4,"Emperor":16,"Post Emperor":0,"dynasty":"Valentinian","birth":"0371-01-01","death":"0392-05-15","reign_start":"0375-11-17","reign_end":"0392-05-15"},{"index":"9","name":"Vespasian","cause":"Natural Causes","Pre Emperor":60,"Emperor":9,"Post Emperor":0,"dynasty":"Flavian","birth":"0009-11-17","death":"0079-06-24","reign_start":"0069-12-21","reign_end":"0079-06-24"},{"index":"52","name":"Galerius","cause":"Natural Causes","Pre Emperor":45,"Emperor":6,"Post Emperor":0,"dynasty":"Constantinian","birth":"0260-01-01","death":"0311-05-01","reign_start":"0305-05-01","reign_end":"0311-05-01"},{"index":"6","name":"Galba","cause":"Assassination","Pre Emperor":65,"Emperor":1,"Post Emperor":0,"dynasty":"Flavian","birth":"0002-12-24","death":"0069-01-15","reign_start":"0068-06-08","reign_end":"0069-01-15"},{"index":"25","name":"Elagabalus","cause":"Assassination","Pre Emperor":15,"Emperor":3,"Post Emperor":0,"dynasty":"Severan","birth":"0203-01-01","death":"0222-03-11","reign_start":"0218-06-08","reign_end":"0222-03-11"},{"index":"33","name":"Philip I","cause":"Execution","Pre Emperor":40,"Emperor":5,"Post Emperor":0,"dynasty":"Gordian","birth":"0204-01-01","death":"0249-10-01","reign_start":"0244-02-14","reign_end":"0249-10-01"},{"index":"10","name":"Titus","cause":"Natural Causes","Pre Emperor":39,"Emperor":2,"Post Emperor":0,"dynasty":"Flavian","birth":"0039-12-30","death":"0081-09-13","reign_start":"0079-06-24","reign_end":"0081-09-13"},{"index":"50","name":"Maximian","cause":"Suicide","Pre Emperor":36,"Emperor":19,"Post Emperor":5,"dynasty":"Constantinian","birth":"0250-01-01","death":"0310-07-15","reign_start":"0286-04-01","reign_end":"0305-05-01"},{"index":"58","name":"Constantine II","cause":"Execution","Pre Emperor":21,"Emperor":2,"Post Emperor":0,"dynasty":"Constantinian","birth":"0316-02-01","death":"0340-01-01","reign_start":"0337-05-22","reign_end":"0340-01-01"},{"index":"63","name":"Jovian","cause":"Natural Causes","Pre Emperor":32,"Emperor":1,"Post Emperor":0,"dynasty":"Constantinian","birth":"0331-01-01","death":"0364-02-17","reign_start":"0363-06-26","reign_end":"0364-02-17"},{"index":"65","name":"Valens","cause":"Died in Battle","Pre Emperor":36,"Emperor":14,"Post Emperor":0,"dynasty":"Valentinian","birth":"0328-01-01","death":"0378-08-09","reign_start":"0364-03-28","reign_end":"0378-08-09"},{"index":"22","name":"Caracalla","cause":"Assassination","Pre Emperor":9,"Emperor":19,"Post Emperor":0,"dynasty":"Severan","birth":"0188-04-04","death":"0217-04-08","reign_start":"0198-01-01","reign_end":"0217-04-08"},{"index":"34","name":"Trajan Decius","cause":"Died in Battle","Pre Emperor":48,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0201-01-01","death":"0251-06-15","reign_start":"0249-10-01","reign_end":"0251-06-15"},{"index":"61","name":"Vetranio","cause":"Unknown","Emperor":1,"Post Emperor":5,"dynasty":"Constantinian","birth":"","death":"0356-01-01","reign_start":"0350-03-01","reign_end":"0350-12-25"},{"index":"45","name":"Probus","cause":"Assassination","Pre Emperor":44,"Emperor":6,"Post Emperor":0,"dynasty":"Gordian","birth":"0232-08-19","death":"0282-10-01","reign_start":"0276-09-15","reign_end":"0282-10-01"},{"index":"66","name":"Gratian","cause":"Assassination","Pre Emperor":8,"Emperor":16,"Post Emperor":0,"dynasty":"Valentinian","birth":"0359-04-18","death":"0383-08-25","reign_start":"0367-08-04","reign_end":"0383-08-25"},{"index":"27","name":"Maximinus I","cause":"Assassination","Pre Emperor":62,"Emperor":3,"Post Emperor":0,"dynasty":"Gordian","birth":"0173-01-01","death":"0238-06-15","reign_start":"0235-03-20","reign_end":"0238-06-15"},{"index":"48","name":"Carinus","cause":"Died in Battle","Emperor":2,"Post Emperor":0,"dynasty":"Gordian","birth":"","death":"0285-08-01","reign_start":"0283-08-01","reign_end":"0285-08-01"},{"index":"14","name":"Hadrian","cause":"Natural Causes","Pre Emperor":41,"Emperor":20,"Post Emperor":0,"dynasty":"Nerva-Antonine","birth":"0076-01-24","death":"0138-07-10","reign_start":"0117-08-11","reign_end":"0138-07-10"},{"index":"26","name":"Severus Alexander","cause":"Assassination","Pre Emperor":13,"Emperor":13,"Post Emperor":0,"dynasty":"Severan","birth":"0208-10-01","death":"0235-03-18","reign_start":"0222-03-13","reign_end":"0235-03-18"},{"index":"36","name":"Trebonianus Gallus","cause":"Assassination","Pre Emperor":45,"Emperor":2,"Post Emperor":0,"dynasty":"Gordian","birth":"0206-01-01","death":"0253-08-15","reign_start":"0251-06-15","reign_end":"0253-08-15"},{"index":"7","name":"Otho","cause":"Suicide","Pre Emperor":36,"Emperor":1,"Post Emperor":0,"dynasty":"Flavian","birth":"0032-04-28","death":"0069-04-16","reign_start":"0069-01-15","reign_end":"0069-04-16"},{"index":"24","name":"Macrinus","cause":"Execution","Pre Emperor":52,"Emperor":1,"Post Emperor":0,"dynasty":"Severan","birth":"0165-01-01","death":"0218-06-08","reign_start":"0217-04-11","reign_end":"0218-06-08"},{"index":"13","name":"Trajan","cause":"Natural Causes","Pre Emperor":44,"Emperor":19,"Post Emperor":0,"dynasty":"Nerva-Antonine","birth":"0053-09-18","death":"0117-08-07","reign_start":"0098-01-28","reign_end":"0117-08-07"},{"index":"15","name":"Antonius Pius","cause":"Natural Causes","Pre Emperor":51,"Emperor":22,"Post Emperor":0,"dynasty":"Nerva-Antonine","birth":"0086-09-19","death":"0161-03-07","reign_start":"0138-07-10","reign_end":"0161-03-07"},{"index":"20","name":"Didius Julianus","cause":"Execution","Pre Emperor":60,"Emperor":1,"Post Emperor":0,"dynasty":"Severan","birth":"0133-01-30","death":"0193-07-01","reign_start":"0193-03-28","reign_end":"0193-07-01"},{"index":"35","name":"Hostilian","cause":"Natural Causes","Pre Emperor":21,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0230-01-01","death":"0251-10-01","reign_start":"0251-06-15","reign_end":"0251-10-01"},{"index":"1","name":"Augustus","cause":"Natural Causes","Pre Emperor":35,"Emperor":40,"Post Emperor":0,"dynasty":"Julio-Claudian","birth":"0062-09-23","death":"0014-08-19","reign_start":"0027-01-16","reign_end":"0014-08-19"},{"index":"30","name":"Pupienus","cause":"Assassination","Pre Emperor":60,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0178-01-01","death":"0238-07-29","reign_start":"0238-04-22","reign_end":"0238-07-29"},{"index":"39","name":"Gallienus","cause":"Assassination","Pre Emperor":35,"Emperor":14,"Post Emperor":0,"dynasty":"Gordian","birth":"0218-01-01","death":"0268-09-15","reign_start":"0253-10-15","reign_end":"0268-09-15"},{"index":"43","name":"Tacitus","cause":"Natural Causes","Pre Emperor":75,"Emperor":1,"Post Emperor":0,"dynasty":"Gordian","birth":"0200-01-01","death":"0276-06-15","reign_start":"0275-09-25","reign_end":"0276-06-15"},{"index":"57","name":"Licinius I","cause":"Execution","Pre Emperor":43,"Emperor":15,"Post Emperor":1,"dynasty":"Constantinian","birth":"0265-01-01","death":"0325-03-01","reign_start":"0308-11-11","reign_end":"0324-09-19"},{"index":"5","name":"Nero","cause":"Suicide","Pre Emperor":16,"Emperor":13,"Post Emperor":0,"dynasty":"Julio-Claudian","birth":"0037-12-15","death":"0068-06-09","reign_start":"0054-10-13","reign_end":"0068-06-09"},{"index":"60","name":"Constans","cause":"Assassination","Pre Emperor":17,"Emperor":12,"Post Emperor":0,"dynasty":"Constantinian","birth":"0320-01-01","death":"0350-02-14","reign_start":"0337-05-22","reign_end":"0350-02-14"},{"index":"69","name":"Flavius Arcadius","cause":"Unknown","Pre Emperor":4,"Emperor":32,"Post Emperor":0,"dynasty":"Unknown"},{"index":"70","name":"Flavius Honorius","cause":"Natural Causes","Pre Emperor":8,"Emperor":30,"Post Emperor":0,"dynasty":"Unknown"},{"index":"71","name":"Valentinian III","cause":"Assassination","Pre Emperor":5,"Emperor":30,"Post Emperor":1,"dynasty":"Unknown"},{"index":"72","name":"Petronius Maximus","cause":"Assassination","Pre Emperor":58,"Emperor":1,"Post Emperor":0,"dynasty":"Unknown"},{"index":"73","name":"Eparchius Avitus","cause":"Unknown","Pre Emperor":60,"Emperor":1,"Post Emperor":1,"dynasty":"Unknown"},{"index":"74","name":"Majorian","cause":"Assassination","Pre Emperor":37,"Emperor":4,"Post Emperor":0,"dynasty":"Unknown"},{"index":"75","name":"Libius Severus","cause":"Natural Causes","Pre Emperor":41,"Emperor":3,"Post Emperor":0,"dynasty":"Unknown"},{"index":"76","name":"Anthemius","cause":"Died in Battle","Pre Emperor":47,"Emperor":4,"Post Emperor":1,"dynasty":"Unknown"},{"index":"77","name":"Olybrius","cause":"Natural Causes","Emperor":1,"Post Emperor":0,"dynasty":"Unknown"},{"index":"78","name":"Glycerius","cause":"Unknown","Emperor":1,"Post Emperor":5,"dynasty":"Unknown"},{"index":"79","name":"Julius Nepo","cause":"Assassination","Pre Emperor":44,"Emperor":1,"Post Emperor":4,"dynasty":"Unknown"},{"index":"80","name":"Romulus Augustulus","cause":"Unknown","Pre Emperor":15,"Emperor":1,"Post Emperor":30,"dynasty":"Unknown"}]'),Xl=JSON.parse('{"Augustus":"Birthright","Tiberius":"Birthright","Caligula":"Birthright","Claudius":"Birthright","Nero":"Birthright","Galba":"Seized Power","Otho":"Appointment by Praetorian Guard","Vitellius":"Seized Power","Vespasian":"Seized Power","Titus":"Birthright","Domitian":"Birthright","Nerva":"Appointment by Senate","Trajan":"Birthright","Hadrian":"Birthright","Antonius Pius":"Birthright","Marcus Aurelius":"Birthright","Lucius Verus":"Birthright","Commodus":"Birthright","Pertinax":"Appointment by Praetorian Guard","Didius Julianus":"Purchase","Septimus Severus":"Seized Power","Caracalla":"Birthright","Geta":"Birthright","Macrinus":"Seized Power","Elagabalus":"Birthright","Severus Alexander":"Birthright","Maximinus I":"Appointment by Praetorian Guard","Gordian I":"Appointment by Senate","Gordian II":"Appointment by Senate","Pupienus":"Appointment by Senate","Balbinus":"Appointment by Senate","Gordian III":"Appointment by Senate","Philip I":"Seized Power","Trajan Decius":"Appointment by Army","Hostilian":"Birthright","Trebonianus Gallus":"Appointment by Army","Aemilian":"Appointment by Army","Valerian":"Appointment by Army","Gallienus":"Birthright","Claudius Gothicus":"Seized Power","Quintillus":"Birthright","Aurelian":"Appointment by Army","Tacitus":"Appointment by Senate","Florian":"Birthright","Probus":"Appointment by Army","Carus":"Seized Power","Numerian":"Birthright","Carinus":"Birthright","Diocletian":"Seized Power","Maximian":"Appointment by Emperor","Constantius I":"Appointment by Emperor","Galerius":"Appointment by Emperor","Severus II":"Appointment by Emperor","Constantine the Great":"Birthright","Maxentius":"Birthright","Maximinus II":"Birthright","Licinius I":"Birthright","Constantine II":"Birthright","Consantius II":"Birthright","Constans":"Birthright","Vetranio":"Seized Power","Julian":"Birthright","Jovian":"Appointment by Army","Valentinian I":"Election","Valens":"Birthright","Gratian":"Birthright","Valentinian II":"Birthright","Theodosius I":"Birthright"}'),Jl=JSON.parse('{"Aemilian":"/emperors/thumbs/aemilian.jpg","Anthemius":"/emperors/thumbs/anthemius.jpg","Antonius Pius":"/emperors/thumbs/antonius_pius.jpg","Augustus":"/emperors/thumbs/augustus.png","Aurelian":"/emperors/thumbs/aurelian.png","Balbinus":"/emperors/thumbs/balbinus.jpg","Caligula":"/emperors/thumbs/caligula.jpg","Caracalla":"/emperors/thumbs/caracalla.jpg","Carinus":"/emperors/thumbs/carinus.jpg","Claudius":"/emperors/thumbs/claudius.jpg","Claudius Gothicus":"/emperors/thumbs/claudius_gothicus.jpg","Commodus":"/emperors/thumbs/commodus.jpg","Constans":"/emperors/thumbs/constans.jpg","Constantine II":"/emperors/thumbs/constantine_ii.jpg","Constantine the Great":"/emperors/thumbs/constantine_the_great.jpg","Constantius I":"/emperors/thumbs/constantius_i.jpg","Didius Julianus":"/emperors/thumbs/didius_julianus.jpg","Diocletian":"/emperors/thumbs/diocletian.jpg","Domitian":"/emperors/thumbs/domitian.jpg","Elagabalus":"/emperors/thumbs/elagabalus.jpg","Eparchius Avitus":"/emperors/thumbs/eparchius_avitus.jpg","Flavius Arcadius":"/emperors/thumbs/flavius_arcadius.png","Flavius Honorius":"/emperors/thumbs/flavius_honorius.jpg","Galba":"/emperors/thumbs/galba.jpg","Galerius":"/emperors/thumbs/galerius.jpg","Gallienus":"/emperors/thumbs/gallienus.jpg","Geta":"/emperors/thumbs/geta.jpg","Glycerius":"/emperors/thumbs/glycerius.jpg","Gordian I":"/emperors/thumbs/gordian_i.jpg","Gordian II":"/emperors/thumbs/gordian_ii.jpg","Gordian III":"/emperors/thumbs/gordian_iii.jpg","Gratian":"/emperors/thumbs/gratian.jpg","Hadrian":"/emperors/thumbs/hadrian.jpg","Hostilian":"/emperors/thumbs/hostilian.jpg","Jovian":"/emperors/thumbs/jovian.jpg","Julius Nepo":"/emperors/thumbs/julius_nepo.jpg","Libius Severus":"/emperors/thumbs/libius_severus.jpg","Licinius I":"/emperors/thumbs/licinius_i.jpg","Lucius Verus":"/emperors/thumbs/lucius_verus.jpg","Macrinus":"/emperors/thumbs/macrinus.jpg","Majorian":"/emperors/thumbs/majorian.jpg","Marcus Aurelius":"/emperors/thumbs/marcus_aurelius.jpg","Maximian":"/emperors/thumbs/maximian.jpg","Maximinus I":"/emperors/thumbs/maximinus_i.jpg","Maximinus II":"/emperors/thumbs/maximinus_ii.jpg","Nero":"/emperors/thumbs/nero.jpg","Numerian":"/emperors/thumbs/numerian.jpg","Olybrius":"/emperors/thumbs/olybrius.png","Petronius Maximus":"/emperors/thumbs/petronius_maximus.jpg","Pupienus":"/emperors/thumbs/pupienus.jpg","Quintillus":"/emperors/thumbs/quintillus.jpg","Romulus Augustulus":"/emperors/thumbs/romulus_augustulus.jpg","Septimus Severus":"/emperors/thumbs/septimus_severus.jpg","Severus Alexander":"/emperors/thumbs/severus_alexander.jpg","Severus II":"/emperors/thumbs/severus_ii.jpg","Tacitus":"/emperors/thumbs/tacitus.jpg","Theodosius I":"/emperors/thumbs/theodosius_i.jpg","Tiberius":"/emperors/thumbs/tiberius.jpg","Titus":"/emperors/thumbs/titus.jpg","Trajan":"/emperors/thumbs/trajan.jpg","Trajan Decius":"/emperors/thumbs/trajan_decius.jpg","Trebonianus Gallus":"/emperors/thumbs/trebonianus_gallus.jpg","Valens":"/emperors/thumbs/valens.jpg","Valentinian I":"/emperors/thumbs/valentinian_i.png","Valentinian II":"/emperors/thumbs/valentinian_ii.jpg","Valentinian III":"/emperors/thumbs/valentinian_iii.jpg","Valerian":"/emperors/thumbs/valerian.jpg","Vespasian":"/emperors/thumbs/vespasian.jpg","Vetranio":"/emperors/thumbs/vetranio.jpg","Vitellius":"/emperors/thumbs/vitellius.jpg","Carus":"/emperors/thumbs/carus.jpg","Consantius II":"/emperors/thumbs/consantius_ii.jpg","Florian":"/emperors/thumbs/florian.jpg","Maxentius":"/emperors/thumbs/maxentius.jpg","Nerva":"/emperors/thumbs/nerva.jpg","Otho":"/emperors/thumbs/otho.jpg","Pertinax":"/emperors/thumbs/pertinax.jpg","Philip I":"/emperors/thumbs/philip_i.jpg","Probus":"/emperors/thumbs/probus.jpg","Julian":"/emperors/thumbs/julian.jpg"}'),Wl=JSON.parse('{"Augustus":{"city":"Rome","lat":41.89193,"lng":12.51133},"Tiberius":{"city":"Rome","lat":41.89193,"lng":12.51133},"Caligula":{"city":"Antitum","lat":41.450367,"lng":12.624779},"Claudius":{"city":"Lugdunum","lat":45.74906,"lng":4.84789},"Nero":{"city":"Antitum","lat":41.450367,"lng":12.624779},"Galba":{"city":"Terracina","lat":41.29174,"lng":13.24359},"Otho":{"city":"Terentinum","lat":41.785,"lng":14.5506},"Vitellius":{"city":"Rome","lat":41.89193,"lng":12.51133},"Vespasian":{"city":"Falacrine","lat":42.61825,"lng":13.15968},"Titus":{"city":"Rome","lat":41.89193,"lng":12.51133},"Domitian":{"city":"Rome","lat":41.89193,"lng":12.51133},"Nerva":{"city":"Narni","lat":42.51956,"lng":12.52758},"Trajan":{"city":"Italica","lat":37.443901,"lng":-6.046795},"Hadrian":{"city":"Italica","lat":37.443901,"lng":-6.046795},"Antonius Pius":{"city":"Lanuvium","lat":41.6745,"lng":12.6972},"Marcus Aurelius":{"city":"Rome","lat":41.89193,"lng":12.51133},"Lucius Verus":{"city":"Rome","lat":41.89193,"lng":12.51133},"Commodus":{"city":"Lanuvium","lat":41.6745,"lng":12.6972},"Pertinax":{"city":"Alba","lat":52.03238,"lng":23.11652},"Didius Julianus":{"city":"Milan","lat":45.46427,"lng":9.18951},"Septimus Severus":{"city":"Leptis Magna","lat":32.636674,"lng":14.291252},"Caracalla":{"city":"Lugdunum","lat":45.74906,"lng":4.84789},"Geta":{"city":"Rome","lat":41.89193,"lng":12.51133},"Macrinus":{"city":"Iol Caesarea","lat":36.605,"lng":2.19083},"Elagabalus":{"city":"Emesa","lat":34.72405,"lng":36.72559},"Severus Alexander":{"city":"Arca Caesarea","lat":36.045833,"lng":34.530556},"Gordian III":{"city":"Rome","lat":41.89193,"lng":12.51133},"Philip I":{"city":"Shahba","lat":32.85237,"lng":36.62847},"Trajan Decius":{"city":"Budalia","lat":44.966447,"lng":19.610106},"Hostilian":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Claudius Gothicus":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Quintillus":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Aurelian":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Tacitus":{"city":"Interamna Nahars","lat":42.561442,"lng":12.646998},"Probus":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Carus":{"city":"Narbo","lat":43.18396,"lng":3.00141},"Diocletian":{"city":"Salona","lat":43.5432,"lng":16.49314},"Maximian":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Constantius I":{"city":"Dardania","lat":42.0166,"lng":21.392067},"Galerius":{"city":"Romuliana","lat":43.899167,"lng":22.185},"Constantine the Great":{"city":"Naissus","lat":43.316295,"lng":21.893884},"Licinius I":{"city":"Felix Romuliana","lat":43.899167,"lng":22.185},"Constantine II":{"city":"Arelate","lat":43.67681,"lng":4.63031},"Consantius II":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Julian":{"city":"Constantinople","lat":41.01384,"lng":28.94966},"Jovian":{"city":"Singidunum","lat":44.80401,"lng":20.46513},"Valentinian I":{"city":"Cibalae","lat":45.28833,"lng":18.80472},"Valens":{"city":"Cibalae","lat":45.28833,"lng":18.80472},"Gratian":{"city":"Sirmium","lat":44.97639,"lng":19.61222},"Valentinian II":{"city":"Milan","lat":45.46427,"lng":9.18951},"Theodosius I":{"city":"Cauca","lat":41.21767,"lng":-4.52145}}');let Zl=function(t){function n(){return t.apply(this,arguments)||this}return(0,i.A)(n,t),n.prototype.render=function(){const t=new Map(Object.entries(Xl||{})),n=new Map(Object.entries(Rl||{})),e=e=>e.map(e=>{var r,i,a,o,u,s;return Object.assign({},e,{image:Jl[e.name]||null,birth_lat:null!==(r=null===(i=Wl[e.name])||void 0===i?void 0:i.lat)&&void 0!==r?r:null,birth_lng:null!==(a=null===(o=Wl[e.name])||void 0===o?void 0:o.lng)&&void 0!==a?a:null,birth_city:null!==(u=null===(s=Wl[e.name])||void 0===s?void 0:s.city)&&void 0!==u?u:null,rise:t.get(e.name)||e.rise||null,killer:n.get(e.name)||e.killer||null})});let i=e(JSON.parse(JSON.stringify(ql))),a=e(JSON.parse(JSON.stringify(ql)));return r.createElement("div",{id:"content"},r.createElement(Hl,null),r.createElement(zl,{data:i}),r.createElement(Fl,{data:i}),r.createElement(Bl,{data:i}),r.createElement(Gl,{data:i}),r.createElement(Ol,{data:i}),r.createElement(Yl,{data:i}),r.createElement($l,{data:a}),r.createElement(Ll,null))},n}(r.Component);var Ql=Zl;function Kl(){return r.createElement(Ql,null)}}}]);
//# sourceMappingURL=component---src-pages-index-js-d886648ccbe1b7a6ca7d.js.map